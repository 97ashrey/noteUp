(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t){e.exports="data:image/png;base64,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"},155:function(e,t,n){e.exports=n(317)},160:function(e,t,n){},317:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(29),l=n.n(o),c=(n(160),n(5)),i=n(6),s=n(8),u=n(7),d=n(9),m=n(321),h=n(322),p=n(320),E=n(18),f=n(38),b=n(124),v=n(51);function g(e,t){return"cTime"===e||"mTime"===e||"dTime"===e?new Date(t):t}var A=function(e){var t=e.getState,n=["CREATE_NOTE","DELETE_NOTE","UPDATE_NOTE","DELETE_ALL_NOTES","SET_SORT","SET_VIEW","SET_SORT_PAGE"];return function(e){return function(a){var r=e(a),o=r.type;if(-1!==n.indexOf(o)){console.log("Local storage middleware");var l=Object(v.a)({},t());delete l.selectionMode,localStorage.setItem("applicationState",JSON.stringify(l))}return r}}},O=n(125),y=n.n(O),C={normal:"NORMAL",archived:"ARCHIVED",deleted:"DELETED"},k=function(){function e(t,n){Object(c.a)(this,e),this.id=y()(),this.title=t,this.body=n,this.color="default",this.cTime=new Date,this.mTime=new Date,this.dTime=null,this.state=e.State().normal}return Object(i.a)(e,null,[{key:"State",value:function(){return C}}]),e}(),S=[],j="GRID",w="LIST",T={mTime:"MTIME",cTime:"CTIME",dTime:"DTIME",AZ:"AZ"},D={main:"main",archive:"archive",trash:"trash",search:"search",about:"about"},N={DELETE:"DELETE",DELETE_FOREVER:"DELETE_FOREVER",EDIT:"EDIT",RESTORE:"RESTORE",UNDO:"UNDO",ARCHIVE:"ARCHIVE",UNARCHIVE:"UNARCHIVE"},R=w,x={currentPage:"main",page:{main:T.AZ,archive:T.AZ,trash:T.AZ}},M=Object(f.c)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;function n(t){return e.findIndex(function(e){return e.id===t})}switch(t.type){case"CREATE_NOTE":return e.push(t.payload),e;case"DELETE_NOTE":return function(){var a=n(t.payload);return-1!==a&&e.splice(a,1),e}();case"DELETE_ALL_NOTES":return e.filter(function(e){return e.state!==k.State().deleted});case"UPDATE_NOTE":return function(){var a=t.payload,r=n(a.id);return-1!==r&&(e[r]=a),e}();default:return e}},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIEW":return t.payload;default:return e}},sort:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SORT_PAGE":return e=Object(v.a)({},e,{currentPage:t.payload});case"SET_SORT":var n=t.payload,a=n.page,r=n.value;return(e=Object(v.a)({},e)).page[a]=r,e;default:return e}},selectionMode:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTION_MODE":return t.payload;default:return e}}}),I=[b.a,A],B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d,L=Object(f.e)(M,function(){if(console.log("Inital state"),null!==localStorage.getItem("applicationState"))return JSON.parse(localStorage.getItem("applicationState"),g)}(),B(f.a.apply(void 0,I))),U=n(318),F=n(26),H=n.n(F),P=n(36),G=n(1),V=n.n(G),W=n(136),Q=n.n(W),z=n(35),J=n.n(z),X=n(131),q=n.n(X),Y=n(34),Z=n.n(Y),K=n(132),_=n.n(K),$=n(130),ee=n.n($),te=n(135),ne=n.n(te),ae=n(61),re=n.n(ae),oe=n(133),le=n.n(oe),ce=n(134),ie=n.n(ce),se=n(62),ue=n.n(se),de=n(129),me=n.n(de),he=n(128),pe=n.n(he),Ee=n(127),fe=n.n(Ee),be=n(126),ve=n.n(be),ge={save:"SAVE",edit:"EDIT",delete:"DELETE",deleteForever:"DELETE_FOREVER",undo:"UNDO",archive:"ARCHIVE",unArchive:"UNARCHIVE",add:"ADD",search:"SEARCH",menu:"MENU",arrowBack:"ARROW_BACK",done:"DONE",borderClear:"BORDER_CLEAR"};function Ae(e){var t,n=e.icon,a=e.block,o=Object(P.a)(e,["icon","block"]);switch(n){case ge.borderClear:t=r.a.createElement(ve.a,null);break;case ge.done:t=r.a.createElement(fe.a,null);break;case ge.arrowBack:t=r.a.createElement(pe.a,null);break;case ge.menu:t=r.a.createElement(me.a,null);break;case ge.save:t=r.a.createElement(ee.a,null);break;case ge.edit:t=r.a.createElement(q.a,null);break;case ge.delete:t=r.a.createElement(Z.a,null);break;case ge.deleteForever:t=r.a.createElement(_.a,null);break;case ge.archive:t=r.a.createElement(re.a,null);break;case ge.unArchive:t=r.a.createElement(le.a,null);break;case ge.search:t=r.a.createElement(ue.a,null);break;case ge.add:t=r.a.createElement(ie.a,null);break;default:t=r.a.createElement(ne.a,null)}return!0===a?r.a.createElement(J.a,o,t):r.a.createElement(Q.a,o,t)}Ae.propTpes={icon:V.a.string.isRequired};var Oe=Ae,ye=n(22),Ce=n(140),ke=n.n(Ce),Se=n(41),je=n.n(Se),we=n(30),Te=n.n(we),De=n(31),Ne=n.n(De),Re=n(32),xe=n.n(Re),Me=n(138),Ie=n.n(Me),Be=n(137),Le=n.n(Be),Ue=n(139),Fe=n.n(Ue);function He(e){var t=e.primary,n=e.to,a=e.icon;return r.a.createElement("li",null,r.a.createElement(Te.a,{button:!0,component:U.a,to:n},r.a.createElement(Ne.a,null,a),r.a.createElement(xe.a,{primary:t})))}var Pe=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{width:"250px"}},r.a.createElement(je.a,{component:"nav"},r.a.createElement(He,{to:"/",primary:"Notes",icon:r.a.createElement(Le.a,null)}),r.a.createElement(He,{to:"/archive",primary:"Archive",icon:r.a.createElement(re.a,null)}),r.a.createElement(He,{to:"/trash",primary:"Trash Can",icon:r.a.createElement(Z.a,null)}),r.a.createElement(He,{to:"/search",primary:"Search",icon:r.a.createElement(ue.a,null)})),r.a.createElement(Ie.a,null),r.a.createElement(je.a,{component:"nav"},r.a.createElement(He,{to:"/about",primary:"About",icon:r.a.createElement(Fe.a,null)})))}}]),t}(a.Component),Ge=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={left:!1},n.toggleDrawer=function(e,t){return function(){n.setState(Object(ye.a)({},e,t))}},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,{style:{marginLeft:"-12px",marginRight:"10px"},icon:ge.menu,color:"inherit","aria-label":"Menu",onClick:this.toggleDrawer("left",!0)}),r.a.createElement(ke.a,{open:this.state.left,onClose:this.toggleDrawer("left",!1)},r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer("left",!1),onKeyDown:this.toggleDrawer("left",!1)},r.a.createElement(Pe,null))))}}]),t}(a.Component),Ve=n(63),We=n.n(Ve),Qe=n(141),ze=n.n(Qe);var Je=function(e){var t=e.children,n=e.position,a=void 0===n?"static":n,o=e.color,l=void 0===o?"default":o,c=Object(P.a)(e,["children","position","color"]);return r.a.createElement(We.a,Object.assign({position:a,color:l},c),r.a.createElement(ze.a,null,t))};var Xe=function(){return r.a.createElement(Je,null,r.a.createElement(Ge,null),r.a.createElement(H.a,{variant:"h6",color:"inherit",style:{flexGrow:1}},"NoteUp"),r.a.createElement(Oe,{icon:ge.add,color:"inherit",component:U.a,to:"/note"}),r.a.createElement(Oe,{icon:ge.search,color:"inherit",component:U.a,to:"/search"}))},qe=function(e,t){return{type:"SET_SORT",payload:{page:e,value:t}}},Ye=function(e){return{type:"SET_SORT_PAGE",payload:e}},Ze=n(14),Ke=n(15);function _e(){var e=Object(Ze.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: ",";\n  \n  height: calc(100vh - ",");\n  overflow: hidden;\n  @media screen and (min-width: 576px){\n    &{\n      height: calc(100vh - ",");\n    }\n  }\n"]);return _e=function(){return e},e}var $e="5px",et=Ke.a.section(_e(),$e,"56px","64px");function tt(){var e=Object(Ze.a)(["\n  flex: 1;\n  margin-top: ",";\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  &&& > *{\n    min-height: calc(60px - ",");\n    max-height: calc(60px - ",");\n    margin-bottom: ",";\n  }\n\n  &&& > *:last-child{\n    margin-bottom: 0px;\n  }\n\n  ","\n\n"]);return tt=function(){return e},e}var nt=Ke.a.div(tt(),$e,$e,$e,$e,function(e){return e.grid&&"\n    flex-wrap: wrap;\n    flex-direction: row;\n    align-content: flex-start;\n\n    &&& > *{\n      margin-right: ".concat($e,";\n      width: calc(50% - calc(").concat($e," / 2));\n    }\n\n    &&& > *:nth-child(even){\n      margin-right: 0px;\n    }\n\n    &&& > *:nth-last-child(2){\n      margin-bottom: 0px;\n    }\n  ")});function at(){var e=Object(Ze.a)(["\n&&{\n  display: block;\n  width: 100%;\n  border-radius: 0;\n}\n"]);return at=function(){return e},e}var rt=Object(Ke.a)(J.a)(at());function ot(){var e=Object(Ze.a)(["\n&&{\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 0px;\n  background-color: #ffcf42;\n  border: 2px solid transparent;\n  }\n  \n  &&:hover{\n    background-color: #d1a629;\n  }\n\n  ","\n"]);return ot=function(){return e},e}var lt=Object(Ke.a)(rt)(ot(),function(e){return e.selected&&"\n    &&{\n      border-color: black;\n      background-color: #ccc;\n    }\n\n    &&:hover{\n      background: none;\n    }\n  "});function ct(){var e=Object(Ze.a)(["\n  display: flex;\n  align-items: center;\n  width: ",";\n"]);return ct=function(){return e},e}var it=Ke.a.div(ct(),function(e){return e.width?e.width:"auto"}),st=new Date,ut=864e5,dt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];function mt(e){return st-e>=ut}function ht(e){var t=e.getHours(),n=e.getMinutes();return(t=t<10?"0"+t:t)+":"+(n=n<10?"0"+n:n)}function pt(e){return dt[e.getMonth()].toUpperCase()+" "+e.getDate()}function Et(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getFullYear(),a=e.getMonth()+1,r=e.getDate();return t?"".concat(a,"/").concat(r,"/").concat(n):"".concat(r,"/").concat(a,"/").concat(n)}var ft=function(e){var t=e.noteData,n=Object(P.a)(e,["noteData"]),a=t.id,o=t.title,l=t.body,c=t.cTime,i=t.dTime,s=t.selected,u="/note/".concat(a);return r.a.createElement(lt,Object.assign({onContextMenu:function(e){e.preventDefault()},component:U.a,to:u,selected:s,draggable:!1},n),""!==l?r.a.createElement("span",null,l.substr(0,10)):r.a.createElement("span",null,o.substr(0,10)),t.state===k.State().deleted?r.a.createElement(it,{width:"70px"},r.a.createElement(Z.a,null),mt(i)?pt(i):ht(i)):r.a.createElement("span",{style:{width:"50px"}},mt(c)?pt(c):ht(c)))};function bt(){var e=Object(Ze.a)(["\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.2em;\n  text-align: center;\n"]);return bt=function(){return e},e}var vt=Ke.a.div(bt());function gt(){var e=Object(Ze.a)(["\n  &&{\n    box-shadow: none;\n    ","\n  }\n"]);return gt=function(){return e},e}var At=Object(Ke.a)(Je)(gt(),function(e){return e.bgcolor?"background-color:"+e.bgcolor+";":""});var Ot=function(e){var t=e.exit,n=e.count,a=e.size,o=e.selectAll,l=e.bgcolor;return r.a.createElement(At,{position:"absolute",bgcolor:l},r.a.createElement(Oe,{icon:ge.done,onClick:t,color:"inherit",style:{marginLeft:"-12px",marginRight:"10px"}}),r.a.createElement("span",null,n(),"/",a),r.a.createElement(Oe,{icon:ge.borderClear,onClick:o,color:"inherit",style:{display:"block",marginLeft:"auto"}}))},yt=n(37),Ct=function(e){return{type:"DELETE_NOTE",payload:e}},kt=function(e){return{type:"UPDATE_NOTE",payload:e}};function St(){var e=Object(Ze.a)(["\n  display: flex;\n  height: 48px;\n  width: calc(100% + 10px);\n  margin: 5px 0px -5px -5px;\n  ","  \n"]);return St=function(){return e},e}var jt=Ke.a.div(St(),function(e){return e.bgcolor?"background-color:"+e.bgcolor+";":""}),wt=n(64),Tt=n.n(wt),Dt=n(145),Nt=n.n(Dt),Rt=n(66),xt=n.n(Rt),Mt=n(144),It=n.n(Mt),Bt=n(65),Lt=n.n(Bt);function Ut(e){var t=e.handleClose,n=e.open,a=e.title,o=e.message,l=e.yesCallback,c=e.noCallback;return r.a.createElement(Tt.a,{open:n,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Lt.a,{id:"alert-dialog-title"},a),r.a.createElement(xt.a,null,r.a.createElement(It.a,{id:"alert-dialog-description"},o)),r.a.createElement(Nt.a,null,r.a.createElement(J.a,{onClick:function(){l&&l(),t()},color:"primary"},"Yes"),r.a.createElement(J.a,{onClick:function(){c&&c(),t()},color:"primary",autoFocus:!0},"No")))}Ut.defaultProps={open:!1,yesCallback:null,noCallback:null};var Ft=Ut;var Ht=function(e){return function(t){function n(e){var t;return Object(c.a)(this,n),(t=Object(s.a)(this,Object(u.a)(n).call(this,e))).openModal=function(e){var n=t.state.modal;for(var a in n.open=!0,e)n[a]=e[a];t.setState({modal:n})},t.closeModal=function(){var e=t.state.modal;e.open=!1,t.setState({modal:e})},t.modalOpened=function(){return t.state.modal.open},t.state={modal:{open:!1,yesCallback:null,noCallback:null,title:"",message:""}},t}return Object(d.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){var t=this.state.modal;return t.handleClose=this.closeModal,r.a.createElement(r.a.Fragment,null,r.a.createElement(e,Object.assign({closeModal:this.closeModal,openModal:this.openModal,modalOpened:this.modalOpened},this.props)),r.a.createElement(Ft,t))}}]),n}(a.Component)};var Pt=function(e){var t=function(t){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).findName=function(e){for(;;){var t=e.getAttribute("name");if(t)return t;e=e.parentElement}},t.openModalHandler=function(e,n){var a=t.props.openModal,r=t.findName(n.target);r in e?a(e[r]):console.error('There is no handler with name "'.concat(r,'" in ').concat(e))},t}return Object(d.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(e,Object.assign({openModalHandler:this.openModalHandler},this.props))}}]),n}(a.Component);return Ht(t)};function Gt(){var e=Object(Ze.a)(["\n  flex: 1;\n  height: 100%;\n  && > *{\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n  }\n"]);return Gt=function(){return e},e}var Vt=Ke.a.div(Gt());var Wt=function(e){var t=e.page,n=e.clickHandler;function a(){return r.a.createElement(Oe,{block:!0,icon:ge.delete,color:"inherit",name:N.DELETE,onClick:n})}var o={btns:[]};switch(t){case D.main:o.btns.push(r.a.createElement(Oe,{block:!0,icon:ge.archive,color:"inherit",name:N.ARCHIVE,onClick:n})),o.btns.push(a());break;case D.archive:o.btns.push(r.a.createElement(Oe,{block:!0,icon:ge.unArchive,color:"inherit",name:N.UNARCHIVE,onClick:n})),o.btns.push(a());break;default:o.btns.push(r.a.createElement(Oe,{block:!0,icon:ge.undo,color:"inherit",name:N.RESTORE,onClick:n})),o.btns.push(r.a.createElement(Oe,{block:!0,icon:ge.deleteForever,color:"inherit",name:N.DELETE_FOREVER,onClick:n}))}var l=o.btns;return r.a.createElement(r.a.Fragment,null,l.map(function(e,t){return r.a.createElement(Vt,{key:t},e)}))},Qt=function(e){function t(e){var n,a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).noteUpdateHandler=function(e){var t,n=a.props,r=n.getSelectedNotes,o=n.updateNote,l=n.exit,c=r(),i=k.State();switch(e){case N.ARCHIVE:t=i.archived;break;case N.DELETE:t=i.deleted;break;default:t=i.normal}c.forEach(function(e){e.state=t,t===i.deleted&&(e.dTime=new Date),o(e)}),l()},a.premanentlyDelete=function(){var e=a.props,t=e.getSelectedNotes,n=e.deleteNote,r=e.exit;t().forEach(function(e){n(e.id)}),r()};var r=N.DELETE,o=N.DELETE_FOREVER,l=N.RESTORE,i=N.ARCHIVE,d=N.UNARCHIVE,m=(n={},Object(ye.a)(n,r,{yesCallback:function(){a.noteUpdateHandler(r)},title:"Delete",message:"Move selected notes to the trash can?"}),Object(ye.a)(n,o,{yesCallback:a.premanentlyDelete,title:"Permanently delete",message:"Permanently delete slected notes?"}),Object(ye.a)(n,l,{yesCallback:function(){a.noteUpdateHandler(l)},title:"RESTORE",message:"Do you want to restore selected notes?"}),Object(ye.a)(n,i,{yesCallback:function(){a.noteUpdateHandler(i)},title:"Archive",message:"Archive selected notes?"}),Object(ye.a)(n,d,{yesCallback:function(){a.noteUpdateHandler(d)},title:"Unarchive",message:"Unarchive selected notes?"}),n);return a.openModalHandler=e.openModalHandler.bind(Object(yt.a)(Object(yt.a)(a)),m),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.page,n=e.bgcolor,a={page:t,clickHandler:this.openModalHandler};return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt,{bgcolor:n},r.a.createElement(Wt,a)))}}]),t}(a.Component),zt={updateNote:kt,deleteNote:Ct},Jt=Pt(Object(E.b)(null,zt)(Qt));var Xt=function(e){var t=e.getSelectedNotes,n=e.page,a=e.exit,o=Object(P.a)(e,["getSelectedNotes","page","exit"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot,Object.assign({exit:a,bgcolor:"#ddd"},o)),r.a.createElement(Jt,{getSelectedNotes:t,bgcolor:"#ddd",page:n,exit:a}))},qt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).adaptNotes=function(){var e=n.props,t=e.notes,a=e.filter;return t.filter(a).map(function(e){return e.selected=!1,e})},n.sortNotes=function(e){var t=n.props.sort,a=t.currentPage;switch(t.page[a]){case T.cTime:return e.sort(function(e,t){return t.cTime-e.cTime});case T.dTime:return e.sort(function(e,t){return t.dTime-e.dTime});case T.mTime:return e.sort(function(e,t){return t.mTime-e.mTime});default:return e.sort(function(e,t){return e.body.charCodeAt(0)-t.body.charCodeAt(0)})}},n.getNoteIndex=function(e){return n.state.notes.findIndex(function(t){return t.id===e})},n.getSelectedNotes=function(){return n.state.notes.filter(function(e){return!0===e.selected})},n.selectedNotesCount=function(){return n.getSelectedNotes().length},n.noteSelectHandler=function(e){var t=n.state.notes,a=n.getNoteIndex(e),r=t[a].selected;t[a].selected=!r,n.setState({notes:t}),n.selectedNotesCount()<=0&&n.props.setSelectionMode(!1)},n.exitSelectionMode=function(){var e=n.state.notes;e.forEach(function(e){return e.selected=!1}),n.setState({notes:e}),n.props.setSelectionMode(!1)},n.selectAll=function(){var e=n.state.notes;e.forEach(function(e){e.selected||(e.selected=!0)}),n.setState({notes:e})},n.hold=function(e){n.props.selectionMode||(n.timerID=setTimeout(function(){n.props.setSelectionMode(!0),n.noteSelectHandler(e),n.mDownEvent=!0},800))},n.release=function(e,t){var a=n.props.selectionMode;if(clearTimeout(n.timerID),n.mDownEvent)return e.preventDefault(),void(n.mDownEvent=!1);a&&(e.preventDefault(),n.noteSelectHandler(t))},n.mouseHandler=function(e,t){if(!n.mobile&&0===t.button)switch(t.type){case"mousedown":n.hold(e);break;case"click":n.release(t,e);break;case"mouseleave":clearInterval(n.timerID)}},n.touchHandler=function(e,t){switch(t.type){case"touchstart":n.hold(e);break;case"touchend":n.release(t,e);break;default:clearTimeout(n.timerID)}},n.makeSelectionModeController=function(){var e=n.props.page,t=n.state.notes,a={selectAll:n.selectAll,exit:n.exitSelectionMode,count:n.selectedNotesCount,size:t.length,getSelectedNotes:n.getSelectedNotes,page:e};return r.a.createElement(Xt,a)},(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(n.mobile=!0),n.timerID=null,n.state={notes:n.adaptNotes()},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.notes,n=this.props,a=n.selectionMode,o=n.view,l=n.page,c=this.sortNotes(t);return r.a.createElement(r.a.Fragment,null,0===c.length?r.a.createElement(vt,null,l===D.main&&"Create some notes",l===D.archive&&"Archive is empty",l===D.trash&&"Trash can is empty"):r.a.createElement(nt,{grid:o===j},c.map(function(t){var n=e.mouseHandler.bind(e,t.id),a=e.touchHandler.bind(e,t.id);return r.a.createElement(ft,{key:t.id,noteData:t,onMouseDown:n,onClick:n,onMouseLeave:n,onTouchStart:a,onTouchEnd:a,onTouchMove:a})})),a&&this.makeSelectionModeController())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.filter,a=e.notes,r=t.notes,o=a.filter(n);return o.length!==r.length?{notes:o.map(function(e){return e.selected=!1,e})}:null}}]),t}(a.Component);qt.defaultProps={filter:function(){return!0}};var Yt=Object(E.b)(function(e){return{notes:e.notes,view:e.view,sort:e.sort,selectionMode:e.selectionMode}},{setSort:qe,setSelectionMode:function(e){return{type:"SET_SELECTION_MODE",payload:e}}})(qt),Zt=n(151),Kt=n.n(Zt),_t=n(89),$t=n.n(_t);var en=function(e){return r.a.createElement(H.a,{component:"div"},e.children)},tn=n(146),nn=n.n(tn),an=n(147),rn=n.n(an),on=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).listClick=function(e){var t=n.props,a=t.clickCallback;(0,t.setView)(e),a()},n.state={},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(je.a,null,r.a.createElement(Te.a,{button:!0,onClick:this.listClick.bind(this,w)},r.a.createElement(Ne.a,null,r.a.createElement(nn.a,null)),r.a.createElement(xe.a,{primary:"List"})),r.a.createElement(Te.a,{button:!0,onClick:this.listClick.bind(this,j)},r.a.createElement(Ne.a,null,r.a.createElement(rn.a,null)),r.a.createElement(xe.a,{primary:"Grid"})))}}]),t}(a.Component),ln={setView:function(e){return{type:"SET_VIEW",payload:e}}},cn=Object(E.b)(null,ln)(on),sn=n(319),un=n(148),dn=n.n(un),mn=n(71),hn=n.n(mn),pn=n(88),En=n.n(pn),fn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).listClick=function(e){var t=n.props,a=t.clickCallback;(0,t.setSort)(t.sort.currentPage,e),a()},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.location.pathname;return r.a.createElement(je.a,null,r.a.createElement(Te.a,{button:!0,onClick:this.listClick.bind(this,T.cTime)},r.a.createElement(Ne.a,null,r.a.createElement(En.a,{badgeContent:"+",color:"default"},r.a.createElement(hn.a,null))),r.a.createElement(xe.a,{primary:"by created time"})),e.includes("trash")?r.a.createElement(Te.a,{button:!0,onClick:this.listClick.bind(this,T.dTime)},r.a.createElement(Ne.a,null,r.a.createElement(En.a,{badgeContent:":(",color:"default"},r.a.createElement(hn.a,null))),r.a.createElement(xe.a,{primary:"by deleted time"})):r.a.createElement(Te.a,{button:!0,onClick:this.listClick.bind(this,T.mTime)},r.a.createElement(Ne.a,null,r.a.createElement(hn.a,null)),r.a.createElement(xe.a,{primary:"by modifed time"})),r.a.createElement(Te.a,{button:!0,onClick:this.listClick.bind(this,T.AZ)},r.a.createElement(Ne.a,null,r.a.createElement(dn.a,null)),r.a.createElement(xe.a,{primary:"alphabeticaly"})))}}]),t}(a.Component),bn=Object(sn.a)(Object(E.b)(function(e){return{sort:e.sort}},{setSort:qe})(fn)),vn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:0},n.handleChange=function(e,t){n.setState({value:t})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.value,t=this.props,n=t.open,a=t.handleClose;return r.a.createElement(Tt.a,{open:n,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Lt.a,{id:"alert-dialog-title",style:{padding:0}},r.a.createElement(We.a,{position:"static",color:"default"},r.a.createElement(Kt.a,{value:e,onChange:this.handleChange,indicatorColor:"primary"},r.a.createElement($t.a,{label:"Sort",style:{flexGrow:1}}),r.a.createElement($t.a,{label:"View",style:{flexGrow:1}})))),r.a.createElement(xt.a,{style:{padding:0,width:"300px"}},0===e&&r.a.createElement(en,null,r.a.createElement(bn,{clickCallback:a})),1===e&&r.a.createElement(en,null,r.a.createElement(cn,{clickCallback:a}))))}}]),t}(r.a.Component),gn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).openModal=function(){n.props.selectionMode||n.setState({modalOpen:!0})},n.closeModal=function(){n.setState({modalOpen:!1})},n.getCurrentSort=function(){var e=n.props.sort,t=e.currentPage;switch(e.page[t]){case T.cTime:return"Sort by created time";case T.mTime:return"Sort by modifed time";case T.dTime:return"Sort by deleted time";default:return"Sort alphabetically"}},n.state={modalOpen:!1},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.modalOpen;return r.a.createElement(r.a.Fragment,null,r.a.createElement(rt,{variant:"outlined",onClick:this.openModal},this.getCurrentSort()),r.a.createElement(vn,{open:e,handleClose:this.closeModal}))}}]),t}(a.Component),An=Object(E.b)(function(e){return{sort:e.sort,selectionMode:e.selectionMode}},null)(gn),On=function(e){return function(t){var n=function(n){function a(t){var n;return Object(c.a)(this,a),n=Object(s.a)(this,Object(u.a)(a).call(this,t)),(0,t.setSortPage)(e),n}return Object(d.a)(a,n),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(t,this.props)}}]),a}(a.Component);return Object(E.b)(null,{setSortPage:Ye})(n)}};var yn=On(D.main)(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe,null),r.a.createElement(et,null,r.a.createElement(An,null),r.a.createElement(Yt,{page:D.main,filter:function(e){return e.state===k.State().normal}})))});var Cn=function(){return r.a.createElement(Je,null,r.a.createElement(Ge,null),r.a.createElement(H.a,{variant:"h6",color:"inherit"},"Archive"))};var kn=On(D.archive)(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,null),r.a.createElement(et,null,r.a.createElement(An,null),r.a.createElement(Yt,{page:D.archive,filter:function(e){return e.state===k.State().archived}})))});var Sn=function(e){var t=e.deleteClick;return r.a.createElement(Je,null,r.a.createElement(Ge,null),r.a.createElement(H.a,{variant:"h6",color:"inherit",style:{flexGrow:1}},"Trash Can"),r.a.createElement(Oe,{icon:ge.deleteForever,color:"inherit",onClick:t}))},jn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).deleteClick=function(){n.props.openModal({yesCallback:n.props.deleteAllNotes,title:"Delete",message:"Delete all notes in the trash can?"})},n.filter=function(e){return e.state===k.State().deleted},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Sn,{deleteClick:this.deleteClick}),r.a.createElement(et,null,r.a.createElement(An,null),r.a.createElement(Yt,{page:D.trash,filter:this.filter})))}}]),t}(a.Component),wn={deleteAllNotes:function(){return{type:"DELETE_ALL_NOTES",payload:null}}},Tn=On(D.trash)(Ht(Object(E.b)(null,wn)(jn))),Dn=n(323),Nn=n(70),Rn=n.n(Nn),xn=Object(sn.a)(function(e){return r.a.createElement(Oe,{style:{marginLeft:"-12px",marginRight:"10px"},icon:ge.arrowBack,onClick:function(){e.history.goBack()}})});function Mn(){var e=Object(Ze.a)(["\n  display: block;\n  width: 30%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return Mn=function(){return e},e}var In=Ke.a.span(Mn()),Bn={READING:"READING",EDITING:"EDITING"};var Ln=function(e){var t=e.title,n=e.state,a=e.onTitleChange,o=e.undo,l=e.noteDataState,c=e.saveNote,i=e.editNote,s=e.openModal,u={noteTitle:null,btns:[]};switch(n){case Bn.READING:u.noteTitle=r.a.createElement(In,null,t),l===k.State().deleted?(u.btns.push(r.a.createElement(Oe,{icon:ge.undo,name:N.RESTORE,color:"inherit",key:"RESTORE",onClick:s})),u.btns.push(r.a.createElement(Oe,{icon:ge.deleteForever,name:N.DELETE_FOREVER,color:"inherit",key:"Delete_Forever",onClick:s}))):(u.btns.push(r.a.createElement(Oe,{icon:ge.edit,color:"inherit",key:"Edit",onClick:i})),u.btns.push(r.a.createElement(Oe,{icon:ge.delete,name:N.DELETE,color:"inherit",key:"Delete",onClick:s})),l===k.State().archived?u.btns.push(r.a.createElement(Oe,{icon:ge.unArchive,name:N.UNARCHIVE,color:"inherit",key:"Archive",onClick:s})):u.btns.push(r.a.createElement(Oe,{icon:ge.archive,name:N.ARCHIVE,color:"inherit",key:"Archive",onClick:s})));break;default:u.noteTitle=r.a.createElement(Rn.a,{style:{width:"30%"},autoComplete:"off",name:"title",value:t,onChange:a,inputProps:{"aria-label":"Description"}}),u.btns.push(r.a.createElement(Oe,{icon:ge.save,color:"inherit",key:"Save",onClick:c}))}o&&u.btns.push(r.a.createElement(Oe,{icon:ge.undo,name:N.UNDO,color:"inherit",key:"Undo",onClick:s}));var d=u.noteTitle,m=u.btns,h=r.a.createElement("div",{style:{marginLeft:"auto"}},m.map(function(e){return e}));return r.a.createElement(Je,null,r.a.createElement(xn,null),d,h)};function Un(){var e=Object(Ze.a)(["\n  height: ",";\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between; \n  border-bottom: 1px solid #ccc;\n  padding-bottom: 3px;\n"]);return Un=function(){return e},e}var Fn=Ke.a.div(Un(),"30px");function Hn(e){var t,n=e.state,a=e.mTime,o=e.cTime,l=e.dTime;switch(n){case Bn.READING:t=function(){var e=function(e){var t=(st-e)/1e3,n=0,a=0,r=0;return t>0&&(n=Math.floor(t/60),n-=60*(a=Math.floor(n/60)),r=Math.floor(t-60*(60*a+n))),{hours:a,minutes:n,seconds:r}}(a),t=e.hours,n=e.minutes,r=e.seconds;return t>0?t>24?pt(a):"".concat(t,1===t?" hour ago":" hours ago"):n>0?"".concat(n,1===n?" minute ago":" minutes ago"):"".concat(r,1===r?" second ago":" seconds ago")}();break;case Bn.EDITING:t="Editing";break;default:t="Trash"}return r.a.createElement(Fn,null,r.a.createElement("span",null,t),n===k.State().deleted?r.a.createElement(it,null,r.a.createElement(Z.a,null),Et(l)+" "+ht(l)):r.a.createElement("span",null,Et(o)+" "+ht(o)))}var Pn=n(152),Gn=n.n(Pn);function Vn(){var e=Object(Ze.a)(["\n  height: calc(100% - calc("," + 10px));\n  width: 100%;\n  resize: none;\n  font-size: 1.3em;\n  line-height: 30px;\n  font-family: Roboto;\n  margin-top: 10px;\n  background-image: url(",");\n  background-attachment: local;\n  &[readonly]{\n    border: none;\n    background-color: transparent;\n    user-select: none;\n    cursor: pointer;\n    outline: none;\n  }\n\n  &[readonly]:focus{\n    outline: none;\n  }\n"]);return Vn=function(){return e},e}var Wn=Ke.a.textarea(Vn(),"30px",Gn.a);function Qn(){var e=Object(Ze.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100px;\n  background-color: rgba(0,0,0,0.8);\n  color: white;\n  height: 40px;\n  padding: 5px;\n  border-radius: 30px;\n  position: fixed;\n  z-index: 998;\n  bottom: 20%;\n  left: 50%;\n  transform: translateX(-50%);\n"]);return Qn=function(){return e},e}var zn=Ke.a.span(Qn());var Jn=function(e){return function(t){function n(e){var t;return Object(c.a)(this,n),(t=Object(s.a)(this,Object(u.a)(n).call(this,e))).showMessage=function(e){t.setState({message:e}),setTimeout(function(){t.setState({message:""})},1e3)},t.state={message:""},t}return Object(d.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){var t=this.state.message;return r.a.createElement(r.a.Fragment,null,r.a.createElement(e,Object.assign({showMessage:this.showMessage},this.props)),""!==t&&r.a.createElement(zn,null,t))}}]),n}(a.Component)},Xn=n(149);var qn=function(e){var t=function(t){function n(e){var t;return Object(c.a)(this,n),(t=Object(s.a)(this,Object(u.a)(n).call(this,e))).setWhen=function(e){"function"===typeof e?t.setState({when:e}):console.error("when argument needs to be a function")},t.setOnBlock=function(e){"function"===typeof e?t.setState({onBlock:e}):console.error("when argument needs to be a function")},t.state={when:function(){return!1},onBlock:function(){return!1}},t}return Object(d.a)(n,t),Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.unblock=this.props.history.block(function(){var t=e.state.when();return t&&e.state.onBlock(),!t})}},{key:"componentWillUnmount",value:function(){this.unblock()}},{key:"render",value:function(){return r.a.createElement(e,Object.assign({setWhen:this.setWhen,setOnBlock:this.setOnBlock,unblock:this.unblock},this.props))}}]),n}(a.Component);return Object(Xn.a)(t)},Yn=function(e){function t(e){var n,a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).when=function(){var e=a.state,t=e.state,n=e.newNote,r=t===Bn.EDITING&&a.changesMade(),o=n&&a.changesMade();return r||o},a.onBlock=function(){a.props.openModal({yesCallback:a.saveNote,title:"Unsaved changes",message:"Save changes before leaving?"})},a.notEmpty=function(){var e=a.state,t=e.title,n=e.body;return""!==t||""!==n},a.changesMade=function(){var e=a.state,t=e.noteData,n=e.title,r=e.body;return t.body!==r||t.title!==n},a.getNote=function(e){return a.props.notes.find(function(t){return t.id===e})},a.readState=function(){a.setState({state:Bn.READING})},a.editState=function(){a.setState({state:Bn.EDITING})},a.newNote=function(){a.setState({newNote:!0,state:Bn.EDITING})},a.saveNote=function(){var e=a.state,t=e.noteData,n=e.title,r=e.body,o=e.newNote;t.title===n&&t.body===r||(t.title=n,t.body=r,t.mTime=new Date,a.setState({undo:!1}),o?(a.props.createNote(t),a.setState({newNote:!1})):a.props.updateNote(t),a.props.showMessage("Note Saved")),a.readState()},a.editNote=function(){a.editState(),a.bodyInput.focus()},a.undoChanges=function(){var e=a.state.noteData,t=e.title,n=e.body;a.setState({title:t,body:n,undo:!1})},a.noteUpdateHandler=function(e){var t,n=a.state.noteData,r=k.State();switch(e){case N.ARCHIVE:t=r.archived;break;case N.DELETE:t=r.deleted;break;default:t=r.normal}if(n.state=t,t===r.deleted)return n.dTime=new Date,a.props.updateNote(n),a.props.unblock(),void a.props.history.goBack();a.props.updateNote(n),a.setState({noteData:n})},a.deleteNoteForever=function(){var e=a.state.noteData;a.props.deleteNote(e.id),a.props.unblock(),a.props.history.push("/trash")},a.handleOnChange=function(e){var t,n=a.state.newNote,r=a.state.noteData,o=r.title,l=r.body,c=e.target.getAttribute("name"),i=e.target.value,s=!1;if(!n)switch(c){case"body":i!==l&&(s=!0);break;default:i!==o&&(s=!0)}a.setState((t={},Object(ye.a)(t,c,i),Object(ye.a)(t,"undo",s),t))},a.state={noteData:{},state:null,title:"",body:"",redirect:!1,undo:!1,newNote:!1};var r=N.DELETE,o=N.DELETE_FOREVER,l=N.RESTORE,i=N.UNDO,d=N.ARCHIVE,m=N.UNARCHIVE,h=(n={},Object(ye.a)(n,r,{yesCallback:function(){a.noteUpdateHandler(r)},title:"Delete",message:"Move note to the trash can?"}),Object(ye.a)(n,o,{yesCallback:a.deleteNoteForever,title:"Permanently delete",message:"Permanently delete note?"}),Object(ye.a)(n,l,{yesCallback:function(){a.noteUpdateHandler(l)},title:"RESTORE",message:"Do you want to restore note?"}),Object(ye.a)(n,i,{yesCallback:a.undoChanges,title:"Undo",message:"Undo changes?"}),Object(ye.a)(n,d,{yesCallback:function(){a.noteUpdateHandler(d)},title:"Archive",message:"Archive note?"}),Object(ye.a)(n,m,{yesCallback:function(){a.noteUpdateHandler(l)},title:"Unarchive",message:"Unarchive note?"}),n);return a.openModalHandler=e.openModalHandler.bind(Object(yt.a)(Object(yt.a)(a)),h),e.setWhen(a.when),e.setOnBlock(a.onBlock),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e,t=this.props.match.params.id;if(console.log(t),t){if(!(e=this.getNote(t)))return void this.setState({redirect:!0});this.readState()}else e=new k("",""),this.props.history.replace("/note/".concat(e.id)),this.newNote();this.setState({noteData:e,title:e.title,body:e.body})}},{key:"render",value:function(){var e=this;if(this.state.redirect)return r.a.createElement(Dn.a,{to:"/"});var t=this.state,n=t.noteData,a=t.title,o=t.body,l=t.state,c=t.undo,i=t.newNote,s={title:a,noteDataState:n.state,state:l,undo:c,onTitleChange:this.handleOnChange,saveNote:this.saveNote,editNote:this.editNote,openModal:this.openModalHandler},u={state:n.state===k.State().deleted?n.state:l,cTime:n.cTime,mTime:n.mTime,dTime:n.dTime},d={autoFocus:!!i,autoComplete:"off",autoCapitalize:"off",autoCorrect:"of",spellCheck:"false",name:"body",value:o,readOnly:l===Bn.READING,onChange:this.handleOnChange,ref:function(t){return e.bodyInput=t}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ln,s),r.a.createElement(et,null,r.a.createElement(Hn,u),r.a.createElement(Wn,d)))}}]),t}(a.Component),Zn={createNote:function(e){return{type:"CREATE_NOTE",payload:e}},deleteNote:Ct,updateNote:kt},Kn=qn(Jn(Pt(Object(E.b)(function(e){return{notes:e.notes}},Zn)(Yn))));var _n=function(e){var t=e.onChangeHandler;return r.a.createElement(Je,null,r.a.createElement(xn,null),r.a.createElement(Rn.a,{autoFocus:!0,autoComplete:"off",name:"search",placeholder:"Search",onChange:t}))},$n=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).onChangeHandler=function(e){n.setState({search:e.target.value})},n.filter=function(e){var t=n.state.search.toLocaleLowerCase(),a=e.body,r=e.title;return""!==t&&(a.toLowerCase().includes(t)||r.toLowerCase().includes(t))},n.state={search:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.notes.filter(this.filter);return r.a.createElement(r.a.Fragment,null,r.a.createElement(_n,{onChangeHandler:this.onChangeHandler}),r.a.createElement(et,null,0===e.length?r.a.createElement(vt,null,"Type parts of content or title of the note in search box"):r.a.createElement(nt,null,e.map(function(e){return r.a.createElement(ft,{key:e.id,noteData:e})}))))}}]),t}(a.Component),ea=Object(E.b)(function(e){return{notes:e.notes}},null)($n);var ta=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,null,r.a.createElement(Ge,null),r.a.createElement(H.a,{variant:"h6",color:"inherit"},"About")),r.a.createElement(et,null,r.a.createElement(H.a,{variant:"h4"},"NoteUp"),r.a.createElement("div",null,r.a.createElement("p",null,"This is a small project i built to test and improve my skills."),r.a.createElement("p",null,"Here i tried to reverse engineer a mobile app for taking notes. For design i used ",r.a.createElement("a",{href:"https://material-ui.com/"},"material-ui")," and ",r.a.createElement("a",{href:"https://www.styled-components.com/"},"styled-components")),r.a.createElement("p",null,"Git repo"))))},na=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"TEST")}}]),t}(a.Component);var aa=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,null,r.a.createElement(Ge,null)),r.a.createElement(et,null,r.a.createElement(H.a,{variant:"h3"},"404"),r.a.createElement(H.a,{variant:"h4"},"Page not found"),r.a.createElement(H.a,{variant:"h5"},r.a.createElement(U.a,{to:"/"},"Go to main page"))))},ra=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{store:L},r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:yn}),r.a.createElement(p.a,{exact:!0,path:"/archive",component:kn}),r.a.createElement(p.a,{exact:!0,path:"/trash",component:Tn}),r.a.createElement(p.a,{exact:!0,path:"/note/:id?",component:Kn}),r.a.createElement(p.a,{exact:!0,path:"/search",component:ea}),r.a.createElement(p.a,{exact:!0,path:"/about",component:ta}),r.a.createElement(p.a,{exact:!0,path:"/test",component:na}),r.a.createElement(p.a,{component:aa})))))}}]),t}(a.Component),oa=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function la(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(ra,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/noteUp",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/noteUp","/service-worker.js");oa?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):la(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):la(t,e)})}}()}},[[155,2,1]]]);
//# sourceMappingURL=main.1b498e11.chunk.js.map