{"version":3,"sources":["img/note-background.png","middleware/localStorageMiddleware.js","actions/types.js","entities/NoteData.js","reducers/notesReducer.js","services/constants.js","reducers/noteViewReducer.js","reducers/noteSortReducer.js","reducers/index.js","reducers/selectionModeReducer.js","store.js","components/AppWrapper.js","components/IconButton.js","components/side-menu/components/ListItemLink.js","components/side-menu/components/List.js","inline-styles/index.js","components/side-menu/index.js","components/HeaderWrapper.js","scenes/notes/scenes/main/components/Header.js","actions/noteSortActions.js","components/Section.js","components/NotesContainer.js","components/note-item/components/NoteLink.js","components/VCenter.js","services/time.js","components/note-item/index.js","components/NoNotes.js","scenes/notes/components/notes/components/selection-mode-controller/components/selection-controlls/components/ControllWraper.js","scenes/notes/components/notes/components/selection-mode-controller/components/selection-controlls/index.js","actions/notesActions.js","scenes/notes/components/notes/components/selection-mode-controller/components/note-options/components/OptionsWrapper.js","components/Modal.js","HOC/modalControlls.js","HOC/openModalHandler.js","scenes/notes/components/notes/components/selection-mode-controller/components/note-options/components/Buttons.js","scenes/notes/components/notes/components/selection-mode-controller/components/note-options/index.js","scenes/notes/components/notes/components/selection-mode-controller/index.js","scenes/notes/components/notes/index.js","actions/selectionModeActions.js","components/BlockButton.js","scenes/notes/components/note-display-options/components/options-modal/components/TabContainer.js","scenes/notes/components/note-display-options/components/options-modal/components/ViewOptionsList.js","actions/noteViewActions.js","scenes/notes/components/note-display-options/components/options-modal/components/SortOptionsList.js","scenes/notes/components/note-display-options/components/options-modal/index.js","scenes/notes/components/note-display-options/index.js","scenes/notes/HOC/SortPageSetter.js","scenes/notes/scenes/main/index.js","scenes/notes/scenes/archive/components/Header.js","scenes/notes/scenes/archive/index.js","scenes/notes/scenes/trash-can/components/Header.js","scenes/notes/scenes/trash-can/index.js","components/BackButton.js","scenes/note/components/header/components/NoteTitle.js","scenes/note/services/constants.js","scenes/note/components/header/index.js","scenes/note/components/note-info/components/InfoWrapper.js","scenes/note/components/note-info/index.js","scenes/note/components/TextArea.js","components/Message.js","HOC/messageControlls.js","HOC/blockNavigation.js","scenes/note/index.js","scenes/search/components/Header.js","scenes/search/index.js","scenes/about/index.js","components/Test.js","scenes/404/index.js","themes/defaultTheme.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","reviver","key","value","includes","Date","localStorageMiddleware","_ref","getState","interest","next","action","result","type","indexOf","state","Object","objectSpread","selectionMode","localStorage","setItem","JSON","stringify","normal","archived","deleted","NoteData","title","body","classCallCheck","this","id","uuid","cTime","mTime","dTime","State","initialState","viewType","sortBy","AZ","page","main","archive","trash","search","about","ButtonName","DELETE","DELETE_FOREVER","EDIT","RESTORE","UNDO","ARCHIVE","UNARCHIVE","view","sort","currentPage","combineReducers","notes","arguments","length","undefined","getIndex","findIndex","note","push","payload","index","splice","filter","_action$payload","noteContent","middleware","thunk","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","console","log","getItem","parse","reHydrateStore","applyMiddleware","apply","AppWrapper","styled","section","_templateObject","iconType","save","edit","delete","deleteForever","undo","unArchive","add","menu","arrowBack","done","borderClear","IconButton","i","icon","block","restProps","objectWithoutProperties","react_default","a","createElement","BorderClear_default","Done_default","ArrowBack_default","Menu_default","Save_default","Edit_default","Delete_default","DeleteForever_default","Archive_default","Unarchive_default","Search_default","Add_default","Undo_default","Button_default","IconButton_default","propTpes","PropTypes","oneOf","values","isRequired","ListItemLink","props","primary","to","ListItem_default","button","component","Link","ListItemIcon_default","ListItemText_default","NavList","Fragment","List_default","components_ListItemLink","Assignment_default","Divider_default","Info_default","pullLeft","marginLeft","marginRight","SideMenu","left","toggleDrawer","side","open","_this","setState","defineProperty","components_IconButton","style","color","aria-label","onClick","Drawer_default","onClose","tabIndex","role","onKeyDown","components_List","Component","HeaderWrapper","children","_ref$position","position","_ref$color","rest","AppBar_default","assign","Toolbar_default","Header","components_HeaderWrapper","side_menu","Typography_default","variant","flexGrow","setSort","setSortPage","padding","Section","Section_templateObject","bgcolor","NotesContainer","div","NotesContainer_templateObject","grid","concat","propTypes","bool","NoteLink","ButtonBase","NoteLink_templateObject","theme","palette","light","selected","dark","withTheme","VCenter","VCenter_templateObject","width","dayMiliSeconds","months","moreThanDay","date","now","parseHours","hours","getHours","minutes","getMinutes","parseMonthDate","getMonth","getDate","parseDate","US","year","getFullYear","month","day","NoteItem","noteData","path","components_NoteLink","onContextMenu","e","preventDefault","draggable","substr","components_VCenter","NoNotes","NoNotes_templateObject","ControllWrapper","ControllWraper_templateObject","SelectionControlls","exit","count","size","selectAll","ControllWraper","deleteNote","archiveNote","restoreNote","deleteNotePermanently","OptionsWrapper","OptionsWrapper_templateObject","Modal","handleClose","message","yesCallback","noCallback","Dialog_default","aria-labelledby","aria-describedby","DialogTitle_default","DialogContent_default","DialogContentText_default","DialogActions_default","autoFocus","defaultProps","withModalControlls","WrappedComponent","_Component","ModalControlls","possibleConstructorReturn","getPrototypeOf","call","openModal","data","modal","closeModal","modalOpened","inherits","createClass","components_Modal","openModalHandler","Handler","_getPrototypeOf2","_len","args","Array","_key","findName","element","getAttribute","parentElement","handler","event","name","target","error","ButtonWrapper","Buttons_templateObject","Buttons","clickHandler","DeleteButton","UIElements","btns","Page","map","btn","NoteOptions","_handler","noteUpdateHandler","_this$props","getSelectedNotes","forEach","bind","assertThisInitialized","buttonsProps","components_OptionsWrapper","components_Buttons","mapDispatchToProps","connect","SelectionModeController","selectionControlls","selection_controlls","note_options","Notes","adaptNotes","sortNotes","_this$props$sort","note1","note2","charCodeAt","getNoteIndex","getSelectedNotesCount","noteSelectHandler","setSelectionMode","exitSelectionMode","hold","timerID","setTimeout","mDownEvent","holdTime","release","clearTimeout","mouseHandler","mobile","clearInterval","touchHandler","makeSelectionModeController","selection_mode_controller","navigator","userAgent","match","_this2","_this$props2","notesToRender","components_NoNotes","components_NotesContainer","note_item","onMouseDown","onMouseLeave","onTouchStart","onTouchEnd","onTouchMove","prevState","newNotes","oldNotes","filtered","BlockButton","Button","BlockButton_templateObject","TabContainer","ViewOptionsList","listClick","clickCallback","setView","ViewList_default","BorderAll_default","SortOptionsList","location","pathname","Badge_default","badgeContent","Schedule_default","SortByAlpha_default","withRouter","OptionsModal","handleChange","Tabs_default","onChange","indicatorColor","Tab_default","label","components_TabContainer","components_SortOptionsList","components_ViewOptionsList","React","NoteDisplayOptions","modalOpen","getCurrentSort","components_BlockButton","options_modal","withSortPageSetter","sortPage","SortPageSetter","components_Header","components_Section","note_display_options","components_notes","archive_components_Header","deleteClick","TrashCan","clearTrash","trash_can_components_Header","history","goBack","NoteTitle","span","NoteTitle_templateObject","noteState","READING","EDITING","newNote","onTitleChange","noteDataState","saveNote","editNote","noteTitle","components_NoteTitle","Input_default","autoComplete","buttons","components_BackButton","InfoWrapper","InfoWrapper_templateObject","NoteInfo","info","_getTimePassed","difference","seconds","Math","floor","getTimePassed","getTimeSinceLastModification","components_InfoWrapper","TextArea","textarea","TextArea_templateObject","bgImage","Message","Message_templateObject","messageControlls","MessageControlls","showMessage","components_Message","blockNavigation","BlockNavigation","continueNavigation","unblock","nextLocation","setWhen","when","setOnBlock","onBlock","Note","changesMade","saveOnExit","readState","editState","_this$state","getNote","find","_this$state2","createNote","modifyNote","_this$state3","bodyInput","focus","undoChanges","handleOnChange","_this$setState","_this$state$noteData","redirect","params","replace","Redirect","_this$state4","headerProps","infoProps","textAreaProps","autoCapitalize","autoCorrect","spellCheck","readOnly","ref","input","header","components_TextArea","scenes_note","onChangeHandler","placeholder","Search","toLocaleLowerCase","toLowerCase","search_components_Header","About","href","rel","Test","NotFound","defaultTheme","createMuiTheme","typography","useNextVariants","App","styles","components_AppWrapper","es","HashRouter","Switch","Route","exact","Main","Archive","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","src_App","document","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.aa654f28.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAAeCAYAAADafuzaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuNWRHWFIAAACXSURBVHhe7cgxEcMAEAQx4zO1wDKwD4EjsDMq1Oi5OwAgbiYA0DITAGiZCQC0zAQAWmYCAC0zAYCWmQBAy0wAoGUmANAyEwBomQkAtMwEAFpmAgAtMwGAlpkAQMtMAKBlJgDQMhMAaJkJALTMBABaZgIALTMBgJaZAEDLTACgZSYA0DITAGiZCQC0zAQAWp7f9x4AUPbeH6RxWzOowvuWAAAAAElFTkSuQmCC\"","/**\r\n * Persist redux state to local storage\r\n */\r\nimport { CREATE_NOTE, DELETE_NOTE, MODIFY_NOTE, ARCHIVE_NOTE, RESTORE_NOTE, DELETE_NOTE_PERMANENTLY, CLEAR_TRASH, SET_SORT, SET_SORT_PAGE ,SET_VIEW } from '../actions/types';\r\n\r\nconst localStorageMiddleware = ({getState}) => { // <--- FOCUS HERE\r\n  const interest = [CREATE_NOTE, DELETE_NOTE, MODIFY_NOTE, ARCHIVE_NOTE, RESTORE_NOTE, DELETE_NOTE_PERMANENTLY, CLEAR_TRASH, SET_SORT, SET_VIEW, SET_SORT_PAGE];\r\n  return (next) => (action) => {\r\n      const result = next(action);\r\n      const type = result.type;\r\n      const index = interest.indexOf(type);\r\n      if(index !== -1){ \r\n        // console.log(\"Local storage middleware\");\r\n        const state = {...getState()};\r\n        // remove selectionMode from state\r\n        delete state.selectionMode;\r\n        localStorage.setItem('applicationState', JSON.stringify(\r\n            state\r\n        ));\r\n      }\r\n      return result;\r\n  };\r\n};\r\n\r\n// restores serialized date objects\r\nfunction reviver(key, value) {\r\n  if (key.includes(\"Time\")) {\r\n    return new Date(value);\r\n  }\r\n  return value;\r\n}\r\n\r\nexport const reHydrateStore = () => { // <-- FOCUS HERE\r\n  console.log(\"Inital state\");\r\n  if (localStorage.getItem('applicationState') !== null) {\r\n    // re-hydrate the store  \r\n    return JSON.parse(localStorage.getItem('applicationState'),reviver) \r\n  }\r\n}\r\n\r\nexport default localStorageMiddleware;","export const CREATE_NOTE = \"CREATE_NOTE\";\r\nexport const DELETE_NOTE = \"DELETE_NOTE\";\r\nexport const MODIFY_NOTE = \"MODIFY_NOTE\";\r\nexport const ARCHIVE_NOTE = \"ARCHIVE_NOTE\";\r\nexport const RESTORE_NOTE = \"RESTORE_NOTE\";\r\nexport const DELETE_NOTE_PERMANENTLY = \"DELETE_PERMANENTLY\";\r\nexport const CLEAR_TRASH = \"CLEAR_TRASH\";\r\n\r\nexport const SET_VIEW = \"SET_VIEW\";\r\n\r\nexport const SET_SORT = \"SET_SORT\";\r\nexport const SET_SORT_PAGE = \"SET_SORT_PAGE\";\r\n\r\nexport const SET_SELECTION_MODE = \"SET_SELECTION_MODE\";\r\n\r\n","/**\r\n * Class to represent notes in the system\r\n */\r\n\r\nimport uuid from 'uuid';\r\n\r\nconst state = {\r\n  normal: 'NORMAL',\r\n  archived: 'ARCHIVED',\r\n  deleted: 'DELETED'\r\n}\r\n\r\nclass NoteData {\r\n  constructor(title,body){\r\n    this.id = uuid();\r\n    this.title = title;\r\n    this.body = body;\r\n    this.cTime = new Date();\r\n    this.mTime = new Date();\r\n    this.dTime = new Date();\r\n    this.state = NoteData.State().normal;\r\n  }\r\n\r\n  static State(){\r\n    return state;\r\n  }\r\n}\r\n\r\nexport default NoteData;","import { CREATE_NOTE, DELETE_NOTE, MODIFY_NOTE, ARCHIVE_NOTE, RESTORE_NOTE, DELETE_NOTE_PERMANENTLY, CLEAR_TRASH } from '../actions/types';\r\n\r\nimport NoteData from '../entities/NoteData';\r\n\r\n\r\nconst initialState = [];\r\nexport default function(state = initialState, action){\r\n\r\n  function getIndex(id){\r\n    return state.findIndex(note => note.id === id);\r\n  }\r\n\r\n  switch(action.type){\r\n    case CREATE_NOTE:\r\n      state.push(action.payload);\r\n      return state;\r\n    \r\n      case DELETE_NOTE_PERMANENTLY:\r\n      return (()=>{\r\n        const id = action.payload;\r\n        const index = getIndex(id);\r\n        if(index !== -1)\r\n          state.splice(index,1); \r\n        return state;\r\n      })();\r\n   \r\n    case CLEAR_TRASH:\r\n      return state.filter(note => note.state !== NoteData.State().deleted)\r\n    \r\n    case MODIFY_NOTE:\r\n      return (()=>{\r\n        const {id, noteContent } = action.payload;\r\n        const index = getIndex(id);\r\n        if(index !== -1)\r\n          for(const key in noteContent)\r\n            state[index][key] = noteContent[key];\r\n        state[index].mTime = new Date();\r\n        return state;\r\n      })();\r\n\r\n      case ARCHIVE_NOTE:\r\n      return (()=>{\r\n        const id = action.payload;\r\n        const index = getIndex(id);\r\n        if(index !== -1)\r\n          state[index].state = NoteData.State().archived;\r\n        return state;\r\n      })();\r\n\r\n      case DELETE_NOTE:\r\n      return (()=>{\r\n        const id = action.payload;\r\n        const index = getIndex(id);\r\n        if(index !== -1)\r\n          state[index].state = NoteData.State().deleted;\r\n          state[index].dTime = new Date();\r\n        return state;\r\n      })();\r\n\r\n      case RESTORE_NOTE:\r\n      return (()=>{\r\n        const id = action.payload;\r\n        const index = getIndex(id);\r\n        if(index !== -1)\r\n          state[index].state = NoteData.State().normal;\r\n        return state;\r\n      })();\r\n    default: \r\n      return state;\r\n  }\r\n}","export const viewType = {\r\n  grid: \"GRID\",\r\n  list: \"LIST\"\r\n}\r\n\r\nexport const sortBy = {\r\n  mTime: \"MTIME\",\r\n  cTime: \"CTIME\",\r\n  dTime: \"DTIME\",\r\n  AZ: \"AZ\"\r\n}\r\n\r\nexport const page = {\r\n  main: 'main',\r\n  archive: 'archive',\r\n  trash: 'trash',\r\n  search: 'search',\r\n  about: 'about'\r\n}\r\n\r\nexport const ButtonName = {\r\n  DELETE: \"DELETE\",\r\n  DELETE_FOREVER: \"DELETE_FOREVER\",\r\n  EDIT: \"EDIT\",\r\n  RESTORE: \"RESTORE\",\r\n  UNDO: \"UNDO\",\r\n  ARCHIVE: \"ARCHIVE\",\r\n  UNARCHIVE: \"UNARCHIVE\"\r\n}","import { viewType } from '../services/constants';\r\nimport { SET_VIEW } from '../actions/types';\r\n\r\nconst view = viewType.list;\r\nexport default function(state = view,action){\r\n  switch(action.type){\r\n    case SET_VIEW:\r\n      let newState = state;\r\n      newState = action.payload;\r\n    return newState;\r\n    default:\r\n    return state;\r\n  }\r\n}","import { sortBy } from '../services/constants';\r\nimport { SET_SORT, SET_SORT_PAGE } from '../actions/types';\r\nconst sort = {\r\n  currentPage: 'main',\r\n  page: {\r\n    main: sortBy.AZ,\r\n    archive: sortBy.AZ,\r\n    trash: sortBy.AZ\r\n  }\r\n};\r\nexport default function(state = sort,action){\r\n  switch(action.type){\r\n    case SET_SORT_PAGE:\r\n     state = {\r\n       ...state,\r\n       currentPage: action.payload\r\n     }\r\n     return state;\r\n    case SET_SORT:\r\n      const {page,value} = action.payload;\r\n      state = {...state};\r\n      state.page[page] = value;\r\n     return state;\r\n     default:\r\n     return state;\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport notes from './notesReducer';\r\nimport view from './noteViewReducer';\r\nimport sort from './noteSortReducer';\r\nimport selectionMode from './selectionModeReducer';\r\nexport default combineReducers({\r\n  notes,\r\n  view,\r\n  sort,\r\n  selectionMode\r\n});","import { SET_SELECTION_MODE } from '../actions/types';\r\n\r\nconst initialState = false;\r\nexport default function(state = initialState, action){\r\n  switch(action.type){\r\n    case SET_SELECTION_MODE:\r\n      return action.payload;\r\n    default:\r\n      return state; \r\n  }\r\n}","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport localStorageMiddleware,  { reHydrateStore } from './middleware/localStorageMiddleware';\r\n\r\nimport rootReducer from './reducers';\r\n\r\n\r\nconst middleware = [thunk,localStorageMiddleware];\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer,reHydrateStore(),composeEnhancers(\r\n  applyMiddleware(...middleware)\r\n));\r\n\r\nexport default store;\r\n","import styled from 'styled-components';\r\n\r\nconst AppWrapper = styled.section`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-content: flex-start;\r\n  overflow: hidden;\r\n  position: relative;\r\n  @media screen and (min-width: 576px){\r\n    &{\r\n      width: 600px;\r\n      margin: 0 auto;\r\n      box-shadow: 0px 0px 2px 2px #ccc;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default AppWrapper;","/**\r\n * Factory for material ui icons buttons\r\n */\r\n\r\nimport React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport {default as IButton} from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport DeleteForever from '@material-ui/icons/DeleteForever';\r\nimport Save from '@material-ui/icons/Save';\r\nimport Undo from '@material-ui/icons/Undo';\r\nimport Archive from '@material-ui/icons/Archive';\r\nimport UnArchive from '@material-ui/icons/Unarchive';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ArrowBack from '@material-ui/icons/ArrowBack';\r\nimport Done from '@material-ui/icons/Done';\r\nimport BorderClear from '@material-ui/icons/BorderClear';\r\n\r\nexport const iconType = {\r\n  save: \"SAVE\",\r\n  edit: \"EDIT\",\r\n  delete: \"DELETE\",\r\n  deleteForever: \"DELETE_FOREVER\",\r\n  undo: \"UNDO\",\r\n  archive: \"ARCHIVE\",\r\n  unArchive: \"UNARCHIVE\",\r\n  add: \"ADD\",\r\n  search: \"SEARCH\",\r\n  menu: \"MENU\",\r\n  arrowBack: \"ARROW_BACK\",\r\n  done: \"DONE\",\r\n  borderClear: 'BORDER_CLEAR'\r\n}\r\n\r\nIconButton.propTpes= {\r\n  icon: PropTypes.oneOf(Object.values(iconType)).isRequired\r\n}\r\n\r\nfunction IconButton ({icon, block, ...restProps}){\r\n  let i;\r\n  switch (icon) {\r\n    case iconType.borderClear:\r\n    i = <BorderClear/>\r\n    break;\r\n    case iconType.done:\r\n    i = <Done/>\r\n    break;\r\n    case iconType.arrowBack:\r\n    i = <ArrowBack/>\r\n    break;\r\n    case iconType.menu:\r\n    i = <MenuIcon/>\r\n    break;\r\n    case iconType.save:\r\n      i = <Save />\r\n      break;\r\n    case iconType.edit:\r\n      i = <Edit />\r\n      break;\r\n    case iconType.delete:\r\n      i = <Delete />\r\n      break;\r\n    case iconType.deleteForever:\r\n      i = <DeleteForever />\r\n      break;\r\n    case iconType.archive:\r\n      i = <Archive />\r\n      break;\r\n    case iconType.unArchive:\r\n      i = <UnArchive />\r\n      break;\r\n    case iconType.search:\r\n      i = <SearchIcon/>\r\n      break;\r\n    case iconType.add:\r\n      i = <AddIcon/>\r\n      break;\r\n    case iconType.undo:\r\n      i = <Undo />\r\n    break;\r\n    default:\r\n      break;\r\n  }\r\n  return(\r\n    (block === true)?\r\n    <Button {...restProps}>\r\n      {i}\r\n    </Button>\r\n    :\r\n    <IButton {...restProps}>\r\n      {i}\r\n    </IButton>\r\n  );\r\n}\r\n\r\nexport default IconButton;","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nfunction ListItemLink(props) {\r\n  const { primary, to, icon } = props;\r\n  return (\r\n    <li>\r\n      <ListItem button component={Link} to={to}>\r\n        <ListItemIcon>\r\n          {icon}\r\n        </ListItemIcon>\r\n        <ListItemText primary={primary} />\r\n      </ListItem>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ListItemLink;","import React from 'react'\r\n\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport ArchiveIcon from '@material-ui/icons/Archive';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\n\r\nimport ListItemLink from './ListItemLink';\r\n\r\n\r\nfunction NavList()  {\r\n  return (\r\n    <React.Fragment>\r\n      <List component=\"nav\">\r\n        <ListItemLink to=\"/\" primary=\"Notes\" icon={<AssignmentIcon />} />\r\n        <ListItemLink to=\"/archive\" primary=\"Archive\" icon={<ArchiveIcon />} />\r\n        <ListItemLink to=\"/trash\" primary=\"Trash Can\" icon={<DeleteIcon />} />\r\n        <ListItemLink to=\"/search\" primary=\"Search\" icon={<SearchIcon />} />\r\n      </List>\r\n      <Divider />\r\n      <List component=\"nav\">\r\n        <ListItemLink to=\"/about\" primary=\"About\" icon={<InfoIcon />} />\r\n      </List>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default NavList;\r\n","export const pullLeft = {\r\n  marginLeft: '-12px',\r\n  marginRight: '10px'\r\n}","import React, { Component } from 'react'\r\n\r\nimport IconButton, {iconType} from '../IconButton';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport NavList from './components/List';\r\n\r\nimport { pullLeft } from '../../inline-styles';\r\n\r\nclass SideMenu extends Component {\r\n  state = {\r\n    left: false,\r\n  };\r\n\r\n  toggleDrawer = (side, open) => () => {\r\n    this.setState({\r\n      [side]: open,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <IconButton \r\n          style={pullLeft}\r\n          icon={iconType.menu}\r\n          color=\"inherit\" aria-label=\"Menu\"\r\n          onClick={this.toggleDrawer('left', true)}/>\r\n\r\n        <Drawer open={this.state.left} onClose={this.toggleDrawer('left', false)}>\r\n          <div\r\n            tabIndex={0}\r\n            role=\"button\"\r\n            onClick={this.toggleDrawer('left', false)}\r\n            onKeyDown={this.toggleDrawer('left', false)}\r\n          >\r\n            <NavList />\r\n          </div>\r\n        </Drawer>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SideMenu;\r\n","/**\r\n * Reusable wrapper for the various header components troughout the project\r\n */\r\nimport React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport ToolBar from '@material-ui/core/Toolbar';\r\n\r\nHeaderWrapper.propTypes = {\r\n  children: PropTypes.node\r\n}\r\n\r\nfunction HeaderWrapper({children, position = 'static',color = 'default',...rest}){\r\n  return (\r\n    <AppBar position={position} color={color} {...rest}>\r\n      <ToolBar>\r\n        {children}\r\n      </ToolBar>\r\n    </AppBar>\r\n  );\r\n}\r\n\r\nexport default HeaderWrapper;\r\n\r\n","import React from 'react';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton, {iconType} from '../../../../../components/IconButton';\r\nimport SideMenu from '../../../../../components/side-menu';\r\nimport HeaderWrapper from '../../../../../components/HeaderWrapper';\r\n\r\nfunction Header() {\r\n  return (\r\n    <HeaderWrapper>\r\n      <SideMenu />\r\n        <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow: 1}}>\r\n          NoteUp\r\n        </Typography>\r\n        <IconButton icon={iconType.add} color=\"inherit\" component={Link} to=\"/note\"/>\r\n        <IconButton icon={iconType.search} color=\"inherit\" component={Link} to=\"/search\"/>\r\n    </HeaderWrapper>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import { SET_SORT, SET_SORT_PAGE } from './types';\r\nexport const setSort = (page,value) =>{\r\n  return{\r\n    type: SET_SORT,\r\n    payload: {\r\n      page,\r\n      value\r\n    }\r\n  }\r\n}\r\n\r\nexport const setSortPage = (page) =>{\r\n  return {\r\n    type: SET_SORT_PAGE,\r\n    payload: page\r\n  }\r\n}","/**\r\n * Reusable component to display the content of applications page.\r\n * It always takes the rest of available space\r\n */\r\nimport styled from 'styled-components';\r\nexport const padding = \"5px\"\r\n\r\nconst Section = styled.section`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: ${padding};\r\n  background-color: ${props => (props.bgcolor)? props.bgcolor: 'transparent'};\r\n`;\r\n\r\nexport default Section;","/**\r\n * Component controlls how note-items are being displayed\r\n * Grid or List view\r\n */\r\nimport styled from 'styled-components';\r\n\r\nimport {padding} from './Section';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nconst NotesContainer = styled.div`\r\n  flex: 1;\r\n  margin-top: ${padding};\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-y: auto;\r\n  &&& > *{\r\n    min-height: calc(60px - ${padding});\r\n    max-height: calc(60px - ${padding});\r\n    margin-bottom: ${padding};\r\n  }\r\n\r\n  &&& > *:last-child{\r\n    margin-bottom: 0px;\r\n  }\r\n\r\n  ${props => (props.grid) && grid()}\r\n\r\n`;\r\n\r\nfunction grid(){\r\n  return `\r\n    flex-wrap: wrap;\r\n    flex-direction: row;\r\n    align-content: flex-start;\r\n\r\n    &&& > *{\r\n      margin-right: ${padding};\r\n      width: calc(50% - calc(${padding} / 2));\r\n    }\r\n\r\n    &&& > *:nth-child(even){\r\n      margin-right: 0px;\r\n    }\r\n\r\n    &&& > *:nth-last-child(2){\r\n      margin-bottom: 0px;\r\n    }\r\n  `;\r\n}\r\n\r\nNotesContainer.propTypes = {\r\n  grid: PropTypes.bool\r\n}\r\n\r\nexport default NotesContainer;","import styled from 'styled-components';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport { withTheme } from '@material-ui/core/styles';\r\n\r\nconst NoteLink = styled(ButtonBase)`\r\n&&{\r\n  padding: 0 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-radius: 0px;\r\n  border: 2px solid transparent;\r\n  background-color: ${props => props.theme.palette.primary.main};\r\n  }\r\n  \r\n  // quick fix for sticky hover effects\r\n  &&:hover{\r\n    background-color: ${props => props.theme.palette.primary.main};\r\n  }\r\n\r\n  @media screen and (min-width: 576px){\r\n    &&:hover{\r\n      background-color: ${props => props.theme.palette.primary.light};\r\n    }\r\n  }\r\n\r\n  ${props => props.selected && selected(props.theme)}\r\n`;\r\n\r\nfunction selected(theme){\r\n  return `\r\n    &&{\r\n      border-color: black;\r\n      background-color: ${theme.palette.primary.dark};\r\n    }\r\n\r\n    // another quick fix for sticky hovers\r\n    &&:hover{\r\n      background-color: ${theme.palette.primary.dark};\r\n    }\r\n\r\n    @media screen and (min-width: 576px){\r\n      &&:hover{\r\n        background-color: ${theme.palette.primary.main};\r\n      }\r\n    }\r\n  `;\r\n}\r\n\r\n\r\nexport default withTheme()(NoteLink);","import styled from 'styled-components';\r\n\r\nconst VCenter = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  width: ${props => props.width? props.width: 'auto'};\r\n`;\r\n\r\nexport default VCenter;","const dayMiliSeconds = 86400000;\r\n\r\nconst days = [\r\n  \"Sunday\",\r\n  \"Monday\",\r\n  \"Tuesday\",\r\n  \"Wednesday\",\r\n  \"Friday\",\r\n  \"Saturday\"\r\n]\r\n\r\nconst months = [\r\n  \"Jan\",\r\n  \"Feb\",\r\n  \"Mar\",\r\n  \"Apr\",\r\n  \"May\",\r\n  \"Jun\",\r\n  \"Jul\",\r\n  \"Aug\",\r\n  \"Sept\",\r\n  \"Oct\",\r\n  \"Nov\",\r\n  \"Dec\"\r\n]\r\n\r\nexport function moreThanDay(date) {\r\n  // const yesterday = new Date(now - dayMiliSeconds);\r\n  // console.log(yesterday);\r\n  // console.log(date);\r\n  // return (yesterday.getDate() === date.getDate());\r\n  return (Date.now() - date) >= dayMiliSeconds;\r\n}\r\n\r\nexport function parseHours(date) {\r\n  let hours = date.getHours();\r\n  let minutes = date.getMinutes();\r\n  hours = (hours < 10) ? \"0\" + hours : hours;\r\n  minutes = (minutes < 10) ? \"0\" + minutes : minutes;\r\n  return hours + \":\" + minutes;\r\n}\r\n\r\nexport function parseMonthDate(date) {\r\n  const month = months[date.getMonth()];\r\n  const dateNumber = date.getDate();\r\n  return month + \" \" + dateNumber;\r\n}\r\n\r\nexport function parseDay(date) {\r\n  return days[date.getDay()];\r\n}\r\n\r\nexport function parseDate(date, US = false) {\r\n  const year = date.getFullYear();\r\n  const month = date.getMonth() + 1;\r\n  const day = date.getDate();\r\n  const format = (US) ? `${month}/${day}/${year}` : `${day}/${month}/${year}`;\r\n  return format;\r\n}\r\n\r\nexport function getTimePassed(date) {\r\n  const difference = (Date.now() - date) / 1000;\r\n  let minutes = 0,\r\n    hours = 0,\r\n    seconds = 0;\r\n  if (difference > 0) {\r\n    minutes = Math.floor(difference / 60);\r\n    hours = Math.floor(minutes / 60);\r\n    minutes -= (hours * 60);\r\n    seconds = Math.floor(difference - (hours * 60 + minutes) * 60);\r\n  }\r\n  return {\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  }\r\n}","/**\r\n * Component is used as a link to a specific note.\r\n * It also displays parts of the note,\r\n * and time passed since note has been created or deleted\r\n */\r\n\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport NoteLink from './components/NoteLink';\r\nimport VCenter from '../VCenter';\r\nimport Delete from '@material-ui/icons/Delete';\r\n\r\nimport NoteData from '../../entities/NoteData';\r\n \r\nimport { moreThanDay, parseMonthDate, parseHours } from '../../services/time';\r\n\r\nNoteItem.propTypes = {\r\n  noteData: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction NoteItem({noteData, ...restProps}) {\r\n  const { id, title, body, cTime, dTime, selected} = noteData;\r\n  const path = `/note/${id}`;\r\n  \r\n  function getTime() {\r\n    return (      \r\n        (noteData.state === NoteData.State().deleted)?\r\n          <VCenter width=\"70px\">\r\n            <Delete />\r\n            {(moreThanDay(dTime)) ? parseMonthDate(dTime) : parseHours(dTime)}\r\n        </VCenter>\r\n        :\r\n        <span style={{width: '60px'}}>{moreThanDay(cTime) ? parseMonthDate(cTime) : parseHours(cTime)}</span>\r\n    );\r\n  }\r\n\r\n  function preventContextMenu(e){\r\n    e.preventDefault();\r\n  }\r\n \r\n  return (\r\n    <NoteLink \r\n      onContextMenu={preventContextMenu}\r\n      component={Link} to={path}\r\n      selected={selected} \r\n      draggable={false} \r\n      {...restProps}>\r\n      <span>{(title === '')? body.substr(0,10): title.substr(0,10)}</span>\r\n      {getTime()}\r\n    </NoteLink>\r\n  )\r\n}\r\n\r\nexport default NoteItem; ","/**\r\n * Component that is displayed when there are no notes in a specific\r\n * application page\r\n */\r\nimport styled from 'styled-components';\r\n\r\nconst NoNotes = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 1.2em;\r\n  text-align: center;\r\n`;\r\n\r\nexport default NoNotes;","import styled from 'styled-components';\r\n\r\nimport HeaderWrapper from '../../../../../../../../../components/HeaderWrapper';\r\n\r\nimport { withTheme } from '@material-ui/core/styles';\r\n\r\nconst ControllWrapper = styled(HeaderWrapper)`\r\n  &&{\r\n    box-shadow: none;\r\n    background-color: ${props => props.theme.palette.primary.dark};\r\n  }\r\n`;\r\n\r\n\r\nexport default withTheme()(ControllWrapper);","/**\r\n * Component handles exiting selection mode and sellecting all notes at once\r\n */\r\nimport React from 'react';\r\n\r\nimport ControllWraper from './components/ControllWraper';\r\n\r\nimport IconButton, {iconType} from '../../../../../../../../components/IconButton';\r\nimport {pullLeft} from '../../../../../../../../inline-styles';\r\n\r\nfunction SelectionControlls({exit,count,size,selectAll}){\r\n\r\n  return (\r\n    <ControllWraper position=\"absolute\">\r\n      <IconButton icon={iconType.done} onClick={exit} color=\"inherit\" \r\n      style={pullLeft}/>\r\n      <span style={{flexGrow: 1}}>{count()}/{size}</span>\r\n      <IconButton icon={iconType.borderClear} onClick={selectAll} color=\"inherit\"/>\r\n    </ControllWraper>\r\n  );\r\n}\r\n\r\nexport default SelectionControlls","import { CREATE_NOTE, DELETE_NOTE, MODIFY_NOTE, ARCHIVE_NOTE, RESTORE_NOTE, DELETE_NOTE_PERMANENTLY, CLEAR_TRASH } from './types';\r\n\r\nexport const createNote = (noteData) =>{\r\n  return {\r\n    type: CREATE_NOTE,\r\n    payload: noteData\r\n  }\r\n}\r\n\r\nexport const deleteNote = (id) =>{\r\n  return {\r\n    type: DELETE_NOTE,\r\n    payload: id\r\n  }\r\n}\r\n\r\nexport const modifyNote = (id,noteContent) =>{\r\n  return {\r\n    type: MODIFY_NOTE,\r\n    payload: {id,noteContent}\r\n  }\r\n}\r\n\r\nexport const archiveNote = (id) =>{\r\n  return {\r\n    type: ARCHIVE_NOTE,\r\n    payload: id\r\n  }\r\n}\r\n\r\nexport const restoreNote = (id) =>{\r\n  return {\r\n    type: RESTORE_NOTE,\r\n    payload: id\r\n  }\r\n}\r\n\r\nexport const deleteNotePermanently = (id) =>{\r\n  return {\r\n    type: DELETE_NOTE_PERMANENTLY,\r\n    payload: id\r\n  }\r\n}\r\n\r\nexport const clearTrash = () =>{\r\n  return{\r\n    type: CLEAR_TRASH,\r\n    payload: null\r\n  }\r\n}\r\n","import styled from 'styled-components';\r\n\r\nimport { withTheme } from '@material-ui/core/styles';\r\n\r\nconst OptionsWrapper = styled.div`\r\n  display: flex;\r\n  height: 48px;\r\n  width: calc(100% + 10px);\r\n  margin: 5px 0px -5px -5px;\r\n  background-color: ${props => props.theme.palette.primary.dark}; \r\n`;\r\n\r\nexport default withTheme()(OptionsWrapper);","import React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nModal.propTypes = {\r\n  open: PropTypes.bool,\r\n  handleClose: PropTypes.func.isRequired,\r\n  yesCallback: PropTypes.func,\r\n  noCallback: PropTypes.func,\r\n  title: PropTypes.string.isRequired,\r\n  message: PropTypes.string.isRequired,\r\n}\r\n\r\nModal.defaultProps = {\r\n  open: false,\r\n  yesCallback: null,\r\n  noCallback: null\r\n}\r\n\r\nfunction Modal ({handleClose, open, title, message, yesCallback, noCallback}){\r\n \r\n  function yesClick(){\r\n    if(yesCallback){\r\n      yesCallback();\r\n    }\r\n    handleClose();\r\n  }\r\n\r\n  function noClick(){\r\n    if(noCallback){\r\n      noCallback();\r\n    }\r\n    handleClose();\r\n  }\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\" >\r\n    <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n    <DialogContent>\r\n      <DialogContentText id=\"alert-dialog-description\">\r\n        {message}\r\n      </DialogContentText>\r\n    </DialogContent>\r\n    <DialogActions>\r\n      <Button onClick={yesClick} color=\"primary\">\r\n        Yes\r\n      </Button>\r\n      <Button onClick={noClick} color=\"primary\" autoFocus>\r\n        No\r\n      </Button>\r\n    </DialogActions>\r\n  </Dialog>\r\n  );\r\n}\r\n\r\nexport default Modal;","/**\r\n * Higher order component that provides methods for opening and closing\r\n * modal window.\r\n */\r\n\r\nimport React, { Component } from 'react';\r\n\r\nimport Modal from '../components/Modal';\r\n\r\nfunction withModalControlls(WrappedComponent){\r\n\r\n  return class ModalControlls extends Component{\r\n\r\n    constructor(props){\r\n      super(props);\r\n      this.state={\r\n        modal: {\r\n          open: false,\r\n          yesCallback: null,\r\n          noCallback: null,\r\n          title: '',\r\n          message: ''\r\n        }\r\n      }\r\n    }\r\n\r\n    openModal = (data) => {\r\n      const { modal } = this.state;\r\n      modal.open = true;\r\n      for (const key in data) {\r\n        modal[key] = data[key];\r\n      }\r\n      this.setState({ modal });\r\n    }\r\n\r\n    closeModal = () =>{\r\n      const { modal } = this.state;\r\n      modal.open = false;\r\n      this.setState({modal});\r\n    }\r\n\r\n    modalOpened = () =>{\r\n      return this.state.modal.open;\r\n    }\r\n\r\n    render(){\r\n      const { modal } = this.state;\r\n      modal.handleClose = this.closeModal;\r\n      return(\r\n        <React.Fragment>\r\n          <WrappedComponent closeModal={this.closeModal} openModal={this.openModal}\r\n            modalOpened={this.modalOpened}\r\n            {...this.props}/>\r\n          <Modal {...modal}/>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default withModalControlls;","/**\r\n * Higher order component that provides a method for opening modal window\r\n * when user presses delete, undo, archive button etc..\r\n * All of these actions result in a modal opening with their specific actions\r\n * on yes and no button clicks. \r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport withModalControlls from './modalControlls';\r\n\r\n// import { ButtonName } from '../services/constants';\r\n\r\nfunction openModalHandler(WrappedComponent) {\r\n\r\n  class Handler extends Component {\r\n\r\n    findName = (element) => {\r\n      while (true) {\r\n        const value = element.getAttribute('name');\r\n        if (value) {\r\n          return value;\r\n        }\r\n        element = element.parentElement;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * This method was created with intention to pass handler argument when\r\n     * function is binded in the component that needs it.\r\n     * Depending on the name attribute of the button that was clicked, modal window * will open.\r\n     */\r\n    openModalHandler = (handler,event) => {\r\n      const { openModal } = this.props;\r\n      const name = this.findName(event.target);\r\n      if(!(name in handler)){\r\n        console.error(`There is no handler with name \"${name}\" in ${handler}`);\r\n        return;\r\n      } \r\n      openModal(handler[name]);\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <WrappedComponent openModalHandler={this.openModalHandler} {...this.props}/>\r\n      );\r\n    }\r\n  }\r\n\r\n  return withModalControlls(Handler);\r\n\r\n}\r\n\r\nexport default openModalHandler;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport IconButton ,{ iconType } from '../../../../../../../../../components/IconButton';\r\nimport { page as Page, ButtonName } from '../../../../../../../../../services/constants';\r\n\r\nconst ButtonWrapper  = styled.div`\r\n  flex: 1;\r\n  height: 100%;\r\n  && > *{\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 0;\r\n  }\r\n`;\r\n\r\nfunction Buttons({page, clickHandler}){\r\n\r\n  function ArchiveButton(){\r\n    return (\r\n      <IconButton \r\n        block \r\n        icon={iconType.archive} \r\n        color=\"inherit\"\r\n        name={ButtonName.ARCHIVE}\r\n        onClick={clickHandler}/>\r\n    );\r\n  }\r\n\r\n  function UnArchiveButton(){\r\n    return (\r\n      <IconButton \r\n        block \r\n        icon={iconType.unArchive} \r\n        color=\"inherit\"\r\n        name={ButtonName.UNARCHIVE}\r\n        onClick={clickHandler}/>\r\n    );\r\n  }\r\n\r\n  function RestoreButton(){\r\n    return (\r\n      <IconButton \r\n        block \r\n        icon={iconType.undo} \r\n        color=\"inherit\" \r\n        name={ButtonName.RESTORE}\r\n        onClick={clickHandler}/>\r\n    );\r\n  }\r\n\r\n  function DeleteForeverButton(){\r\n    return (\r\n      <IconButton \r\n        block \r\n        icon={iconType.deleteForever} \r\n        color=\"inherit\" \r\n        name={ButtonName.DELETE_FOREVER}\r\n        onClick={clickHandler}/>\r\n    );\r\n  }\r\n\r\n  function DeleteButton(){\r\n    return (\r\n      <IconButton \r\n        block \r\n        icon={iconType.delete} \r\n        color=\"inherit\" \r\n        name={ButtonName.DELETE}\r\n        onClick={clickHandler}/>\r\n    );\r\n  }\r\n\r\n  const UIElements = {\r\n    btns: []\r\n  };\r\n\r\n  switch(page){\r\n    case Page.main:\r\n    UIElements.btns.push(ArchiveButton());\r\n    UIElements.btns.push(DeleteButton());\r\n    break;\r\n    case Page.archive:\r\n    UIElements.btns.push(UnArchiveButton());\r\n    UIElements.btns.push(DeleteButton());\r\n    break;\r\n    default:\r\n    UIElements.btns.push(RestoreButton());\r\n    UIElements.btns.push(DeleteForeverButton());\r\n  }\r\n\r\n  const {btns} = UIElements\r\n  return(\r\n    <React.Fragment>\r\n      {btns.map((btn,index) =>\r\n        <ButtonWrapper key={index}>\r\n          {btn}\r\n        </ButtonWrapper>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Buttons;","/**\r\n * Component handles deleting, archving ... of the selected notes\r\n */\r\nimport React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { archiveNote, restoreNote, deleteNote, deleteNotePermanently } from '../../../../../../../../actions/notesActions';\r\n\r\nimport OptionsWrapper from './components/OptionsWrapper';\r\nimport openModalHandler from '../../../../../../../../HOC/openModalHandler';\r\n\r\nimport { ButtonName } from '../../../../../../../../services/constants';\r\n\r\nimport Buttons from './components/Buttons';\r\nclass NoteOptions extends Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n    \r\n    const { DELETE, DELETE_FOREVER, RESTORE, ARCHIVE, UNARCHIVE } = ButtonName;\r\n    const handler = {\r\n      [DELETE] : {\r\n        yesCallback: ()=>{this.noteUpdateHandler(DELETE)},\r\n        title: 'Delete',\r\n        message: 'Move selected notes to the trash can?'\r\n      },\r\n      [DELETE_FOREVER] : {\r\n        yesCallback: ()=>{this.noteUpdateHandler(DELETE_FOREVER)},\r\n        title: 'Permanently delete',\r\n        message: 'Permanently delete slected notes?'\r\n      },\r\n      [RESTORE] : {\r\n        yesCallback: ()=>{this.noteUpdateHandler(RESTORE)},\r\n        title: 'RESTORE',\r\n        message: 'Do you want to restore selected notes?'\r\n      },\r\n      [ARCHIVE] : {\r\n        yesCallback: ()=>{this.noteUpdateHandler(ARCHIVE)},\r\n        title: 'Archive',\r\n        message: 'Archive selected notes?'\r\n      },\r\n      [UNARCHIVE] : {\r\n        yesCallback: ()=>{this.noteUpdateHandler(UNARCHIVE)},\r\n        title: 'Unarchive',\r\n        message: 'Unarchive selected notes?'\r\n      }\r\n    }\r\n    this.openModalHandler = props.openModalHandler.bind(this,handler);\r\n  }\r\n\r\n  noteUpdateHandler = (name) =>{\r\n    const {getSelectedNotes, exit, archiveNote, deleteNote, restoreNote, deleteNotePermanently } = this.props;\r\n    const notes = getSelectedNotes();\r\n    let action;\r\n    switch(name){\r\n      case ButtonName.ARCHIVE:\r\n      action = archiveNote;\r\n      break;\r\n      case ButtonName.DELETE:\r\n      action = deleteNote;\r\n      break;\r\n      case ButtonName.DELETE_FOREVER:\r\n      action = deleteNotePermanently\r\n      break;\r\n      default:\r\n      action = restoreNote;\r\n      break;\r\n    }\r\n    notes.forEach(note =>{\r\n      action(note.id);\r\n    });\r\n    exit();\r\n  }\r\n\r\n  render(){\r\n    const {page} = this.props;\r\n\r\n    const buttonsProps = {\r\n      page,\r\n      clickHandler: this.openModalHandler\r\n    }\r\n    return(\r\n      <OptionsWrapper>\r\n        <Buttons {...buttonsProps} />\r\n      </OptionsWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  archiveNote, \r\n  restoreNote, \r\n  deleteNote, \r\n  deleteNotePermanently\r\n}\r\n\r\nexport default openModalHandler(connect(null,mapDispatchToProps)(NoteOptions));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SelectionControlls from './components/selection-controlls';\r\nimport NoteOptions from './components/note-options';\r\n\r\nimport { page } from '../../../../../../services/constants';\r\n\r\nSelectionModeController.propTypes = {\r\n  page: PropTypes.oneOf(Object.values(page)).isRequired,\r\n  getSelectedNotes: PropTypes.func.isRequired,\r\n  exit: PropTypes.func.isRequired,\r\n  count: PropTypes.func.isRequired,\r\n  size: PropTypes.number.isRequired,\r\n  selectAll: PropTypes.func.isRequired\r\n}\r\n\r\nfunction SelectionModeController({getSelectedNotes, page, exit, ...selectionControlls}){\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <SelectionControlls exit={exit} {...selectionControlls}/>\r\n      <NoteOptions getSelectedNotes={getSelectedNotes} page={page} exit={exit}/>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default SelectionModeController;\r\n","/**\r\n * Component is responsible for filtering of the notes depending on the page,\r\n * it also adds click and hold options for the note items allowing user to\r\n * enter \"Selection mode\" in which user can select multiple notes and then\r\n * delete them, archive them, restore them etc..\r\n */\r\nimport React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { setSort } from '../../../../actions/noteSortActions';\r\nimport { setSelectionMode } from '../../../../actions/selectionModeActions';\r\n\r\nimport NotesContainer from '../../../../components/NotesContainer';\r\nimport NoteItem from '../../../../components/note-item';\r\nimport NoNotes from '../../../../components/NoNotes';\r\nimport SelectionModeController from './components/selection-mode-controller';\r\n\r\nimport { viewType, sortBy, page as Page } from '../../../../services/constants';\r\n\r\nclass Notes extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // check for mobile device to disable mouse events\r\n    if (navigator.userAgent.match(/Android/i)\r\n      || navigator.userAgent.match(/webOS/i)\r\n      || navigator.userAgent.match(/iPhone/i)\r\n      || navigator.userAgent.match(/iPad/i)\r\n      || navigator.userAgent.match(/iPod/i)\r\n      || navigator.userAgent.match(/BlackBerry/i)\r\n      || navigator.userAgent.match(/Windows Phone/i)) {\r\n        this.mobile = true;\r\n      }\r\n\r\n    this.timerID = null;\r\n    this.holdTime = 600;\r\n    this.state = {\r\n      notes: this.adaptNotes(),\r\n    }\r\n  }\r\n\r\n  static getDerivedStateFromProps(props,prevState){\r\n    // check if new filtered notes that are coming from props\r\n    // are diferent from the previous ones by comparing array lengths\r\n    const { filter, notes : newNotes } = props;\r\n    const { notes: oldNotes } = prevState;\r\n    const filtered = newNotes.filter(filter);\r\n    if(filtered.length !== oldNotes.length){\r\n      return {\r\n        notes: filtered.map(note => {\r\n          note.selected = false;\r\n          return note;\r\n        })\r\n      }\r\n    } \r\n    return null;\r\n  }\r\n\r\n  // Filter notes and add selected atribute to NoteData\r\n  adaptNotes = () =>{\r\n    const { notes, filter } = this.props;\r\n    return notes.filter(filter).map(note => {\r\n      note.selected = false;\r\n      return note;\r\n    });\r\n  }\r\n\r\n  sortNotes = (notes) => {\r\n    const { currentPage, page } = this.props.sort;\r\n    const sortVal = page[currentPage];\r\n    switch (sortVal) {\r\n      case sortBy.cTime:\r\n        return notes.sort((note1, note2) => note2.cTime - note1.cTime);\r\n      case sortBy.dTime:\r\n        return notes.sort((note1, note2) => note2.dTime - note1.dTime);\r\n      case sortBy.mTime:\r\n        return notes.sort((note1, note2) => note2.mTime - note1.mTime);\r\n      default:\r\n        return notes.sort((note1, note2) => note1.body.charCodeAt(0) - note2.body.charCodeAt(0));\r\n    }\r\n  }\r\n\r\n  getNoteIndex = (id) => {\r\n    const { notes } = this.state;\r\n    return notes.findIndex(note => note.id === id);\r\n  }\r\n\r\n  getSelectedNotes = () =>{\r\n    const {notes} = this.state;\r\n    return notes.filter(note => note.selected === true);\r\n  }\r\n\r\n  getSelectedNotesCount = () => {\r\n    return this.getSelectedNotes().length;\r\n  }\r\n\r\n  // togle the selection of the note when clicked or touched\r\n  noteSelectHandler = (id) => {\r\n    const { notes } = this.state;\r\n    const index = this.getNoteIndex(id);\r\n    const selected = notes[index].selected;\r\n    notes[index].selected = selected ? false : true;\r\n    this.setState({ notes });\r\n    if (this.getSelectedNotesCount() <= 0) {\r\n      this.props.setSelectionMode(false);\r\n    }\r\n  }\r\n\r\n  exitSelectionMode = () =>{\r\n    const {notes} = this.state;\r\n    // deselect all notes\r\n    notes.forEach(note => note.selected = false);\r\n    this.setState({\r\n      notes,\r\n    });\r\n    this.props.setSelectionMode(false);\r\n  }\r\n\r\n  selectAll = () =>{\r\n    const { notes } = this.state;\r\n    notes.forEach(note => {\r\n      if(note.selected)\r\n        return;\r\n      note.selected = true});\r\n    this.setState({\r\n      notes\r\n    })\r\n  }\r\n\r\n  hold = (id) => {\r\n    const { selectionMode } = this.props;\r\n    if (selectionMode)\r\n      return;\r\n\r\n    // start a timeout\r\n    this.timerID = setTimeout(() => {\r\n      this.props.setSelectionMode(true);\r\n      this.noteSelectHandler(id);\r\n      this.mDownEvent = true;\r\n    }, this.holdTime);\r\n  }\r\n\r\n  release = (e,id) => {\r\n    const { selectionMode } = this.props;\r\n    clearTimeout(this.timerID);\r\n    /**\r\n     * Prevents deselection of the first slected note\r\n     * when selection mode is activated trough hold event\r\n     */\r\n    if (this.mDownEvent) {\r\n      e.preventDefault();\r\n      this.mDownEvent = false;\r\n      return;\r\n    }\r\n    if (selectionMode) {\r\n      // don't go to /note page\r\n      e.preventDefault();\r\n      // select or unselect note\r\n      this.noteSelectHandler(id);\r\n    } \r\n  }\r\n\r\n  mouseHandler = (id, e) => {\r\n    if (this.mobile)\r\n      return;\r\n    \r\n    const button = e.button;\r\n    if(button !== 0)\r\n      return;\r\n    \r\n    switch (e.type) {\r\n      case 'mousedown':\r\n          this.hold(id);\r\n      break;\r\n      case 'click':\r\n        this.release(e,id);\r\n      break;\r\n      case 'mouseleave':\r\n        // cancel touch hold\r\n        clearInterval(this.timerID)\r\n      break;\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  touchHandler = (id,e) =>{\r\n    switch(e.type){\r\n      case 'touchstart':\r\n        this.hold(id);\r\n      break;\r\n      case 'touchend':\r\n        this.release(e,id);\r\n      break;\r\n      // touch move\r\n      default:\r\n        clearTimeout(this.timerID);\r\n      break;\r\n    }\r\n  }\r\n\r\n  makeSelectionModeController = () =>{\r\n    const { page } = this.props;\r\n    const { notes } = this.state;\r\n    const selectionControlls = {\r\n      selectAll: this.selectAll,\r\n      count: this.getSelectedNotesCount,\r\n      size: notes.length,\r\n      getSelectedNotes: this.getSelectedNotes,\r\n      page,\r\n      exit: this.exitSelectionMode,\r\n    }\r\n\r\n    return <SelectionModeController {...selectionControlls}/>\r\n  }\r\n\r\n  render() {\r\n    const { notes} = this.state;\r\n    const { selectionMode, view, page } = this.props;\r\n    const notesToRender = this.sortNotes(notes);\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {\r\n        (notesToRender.length === 0) ?\r\n        <NoNotes>\r\n          { page === Page.main && 'Click on + to create some notes' }\r\n          { page === Page.archive && 'Archive is empty' }\r\n          { page === Page.trash && 'Trash can is empty' }\r\n        </NoNotes>\r\n        :\r\n        <NotesContainer grid={view === viewType.grid}>\r\n          {notesToRender.map(note => {\r\n            const mouseHandler = this.mouseHandler.bind(this,note.id);\r\n            const touchHandler = this.touchHandler.bind(this,note.id);\r\n            return (\r\n              <NoteItem key={note.id} noteData={note}\r\n                onMouseDown={mouseHandler}\r\n                onClick={mouseHandler}\r\n                onMouseLeave={mouseHandler}\r\n                onTouchStart={touchHandler}\r\n                onTouchEnd={touchHandler}\r\n                onTouchMove={touchHandler} />\r\n            );\r\n          })}\r\n        </NotesContainer>}\r\n        {selectionMode && this.makeSelectionModeController()}      \r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nNotes.defaultProps = {\r\n  filter: () => true\r\n}\r\n\r\nNotes.propTypes = {\r\n  filter: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  notes: state.notes,\r\n  view: state.view,\r\n  sort: state.sort,\r\n  selectionMode: state.selectionMode\r\n});\r\n\r\nexport default connect(mapStateToProps, { setSort, setSelectionMode })(Notes);\r\n","import { SET_SELECTION_MODE } from './types';\r\n\r\n\r\nexport const setSelectionMode = (value) =>{\r\n  return{\r\n    type: SET_SELECTION_MODE,\r\n    payload: value\r\n  }\r\n}","import styled from 'styled-components';\r\nimport Button from '@material-ui/core/Button';\r\nconst BlockButton = styled(Button)`\r\n&&{\r\n  display: block;\r\n  width: 100%;\r\n  border-radius: 0;\r\n}\r\n`;\r\nexport default BlockButton;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nTabContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nfunction TabContainer(props) {\r\n  return (\r\n    <Typography component=\"div\">\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default TabContainer;","import React,  { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { setView } from '../../../../../../../actions/noteViewActions';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ViewListIcon from '@material-ui/icons/ViewList';\r\nimport BorderAllIcon from '@material-ui/icons/BorderAll';\r\n\r\nimport { viewType } from '../../../../../../../services/constants';\r\n\r\n\r\n\r\nclass ViewOptionsList extends Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  listClick = (name) =>{\r\n    const {clickCallback, setView} = this.props;\r\n    setView(name);\r\n    clickCallback();\r\n  }\r\n\r\n  render(){\r\n\r\n    return(\r\n      <List>\r\n      <ListItem button onClick={this.listClick.bind(this,viewType.list)}>\r\n        <ListItemIcon>\r\n          <ViewListIcon/>\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"List\"/>\r\n      </ListItem>\r\n      <ListItem button onClick={this.listClick.bind(this,viewType.grid)}>\r\n        <ListItemIcon>\r\n          <BorderAllIcon/>\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"Grid\"/>\r\n      </ListItem>\r\n    </List>\r\n    );\r\n  }\r\n}\r\n\r\nViewOptionsList.propTypes = {\r\n  clickCallback: PropTypes.func,\r\n}\r\n\r\nViewOptionsList.defaultProps = {\r\n  clickCallback: () => false\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  setView\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(ViewOptionsList);","import { SET_VIEW } from './types';\r\n\r\nexport const setView = (view) =>{\r\n  return {\r\n    type: SET_VIEW,\r\n    payload: view\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom'; \r\nimport { connect } from 'react-redux';\r\nimport { setSort } from '../../../../../../../actions/noteSortActions';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport SortByAlphaIcon from '@material-ui/icons/SortByAlpha';\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\nimport Badge from '@material-ui/core/Badge';\r\n\r\nimport { sortBy } from '../../../../../../../services/constants';\r\n\r\n\r\n\r\nclass SortOptionsList extends Component{\r\n\r\n  listClick = (value) =>{\r\n    const {clickCallback, setSort, sort} = this.props;\r\n    setSort(sort.currentPage,value);\r\n    clickCallback();\r\n  }\r\n\r\n  render(){\r\n    const { location } = this.props;\r\n    const path = location.pathname;\r\n    return(\r\n      <List>  \r\n        <ListItem button onClick={this.listClick.bind(this,sortBy.cTime)}>\r\n          <ListItemIcon>\r\n            <Badge badgeContent=\"+\" color=\"default\">\r\n              <ScheduleIcon />\r\n            </Badge>\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"by created time\" />\r\n        </ListItem>\r\n        {\r\n          // if not on trash page render mTime otherwise dTime\r\n          (!path.includes('trash'))?\r\n             <ListItem button onClick={this.listClick.bind(this,sortBy.mTime)}>\r\n             <ListItemIcon>\r\n               <ScheduleIcon />\r\n             </ListItemIcon>\r\n             <ListItemText primary=\"by modifed time\" />\r\n           </ListItem>\r\n            :\r\n            <ListItem button onClick={this.listClick.bind(this,sortBy.dTime)}>\r\n              <ListItemIcon>\r\n                <Badge badgeContent=\":(\" color=\"default\">\r\n                  <ScheduleIcon />\r\n                </Badge>\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"by deleted time\" />\r\n            </ListItem>\r\n          \r\n        }\r\n        <ListItem button onClick={this.listClick.bind(this,sortBy.AZ)}>\r\n          <ListItemIcon>\r\n            <SortByAlphaIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"alphabeticaly\" />\r\n        </ListItem>\r\n      </List>\r\n    );\r\n  }\r\n}\r\n\r\nSortOptionsList.propTypes = {\r\n  clickCallback: PropTypes.func,\r\n}\r\n\r\nSortOptionsList.defaultProps = {\r\n  clickCallback: () => false\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  sort: state.sort\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps,{setSort})(SortOptionsList));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport TabContainer from './components/TabContainer';\r\nimport ViewOptionsList from './components/ViewOptionsList';\r\nimport SortOptionsList from './components/SortOptionsList';\r\n\r\n\r\n\r\nclass OptionsModal extends React.Component {\r\n  state = {\r\n    value: 0,\r\n  };\r\n\r\n  handleChange = (event, value) => {\r\n    this.setState({ value });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    const { open, handleClose } = this.props;\r\n    return (\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\" >\r\n        <DialogTitle id=\"alert-dialog-title\" style={{ padding: 0 }}>\r\n          <AppBar position=\"static\" color=\"default\">\r\n            <Tabs value={value} onChange={this.handleChange} indicatorColor=\"primary\">\r\n              <Tab label=\"Sort\" style={{ flexGrow: 1 }} />\r\n              <Tab label=\"View\" style={{ flexGrow: 1 }} />\r\n            </Tabs>\r\n          </AppBar>\r\n        </DialogTitle>\r\n        <DialogContent style={{ padding: 0, width: '300px' }}>\r\n          {value === 0 &&\r\n            <TabContainer>\r\n              <SortOptionsList clickCallback={handleClose}/>\r\n            </TabContainer>}\r\n          {value === 1 &&\r\n            <TabContainer>\r\n              <ViewOptionsList clickCallback={handleClose}/>\r\n            </TabContainer>}\r\n        </DialogContent>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\nOptionsModal.propTypes = {\r\n  open: PropTypes.bool.isRequired,\r\n  handleClose: PropTypes.func.isRequired\r\n}\r\n\r\nexport default OptionsModal;\r\n","/**\r\n * Component opens the modal window which controlls sorting and viewing options.\r\n */\r\nimport React, {Component} from 'react'\r\nimport { connect } from 'react-redux';\r\nimport BlockButton from '../../../../components/BlockButton';\r\nimport OptionsModal from './components/options-modal';\r\n\r\nimport { sortBy } from '../../../../services/constants';\r\n\r\nclass NoteDisplayOptions extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      modalOpen: false\r\n    }\r\n  }\r\n\r\n  openModal = () =>{\r\n    const { selectionMode } = this.props;\r\n    if(selectionMode)\r\n      return;\r\n      \r\n    this.setState({modalOpen: true});\r\n  }\r\n\r\n  closeModal = () =>{\r\n    this.setState({modalOpen: false});\r\n  }\r\n\r\n  getCurrentSort = () =>{\r\n    const { currentPage, page } = this.props.sort;\r\n    const sortValue = page[currentPage];\r\n    switch(sortValue){\r\n      case sortBy.cTime:\r\n      return \"Sort by created time\";\r\n      case sortBy.mTime:\r\n      return \"Sort by modifed time\";\r\n      case sortBy.dTime:\r\n      return \"Sort by deleted time\";\r\n      default:\r\n      return \"Sort alphabetically\"\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const {modalOpen} = this.state;\r\n    return(\r\n      <React.Fragment>\r\n         <BlockButton\r\n            variant=\"outlined\"\r\n            onClick={this.openModal}\r\n          >\r\n            {this.getCurrentSort()}\r\n          </BlockButton>\r\n        <OptionsModal open={modalOpen} handleClose={this.closeModal}/>\r\n      </React.Fragment >\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  sort: state.sort,\r\n  selectionMode: state.selectionMode\r\n});\r\n\r\nexport default connect(mapStateToProps,null)(NoteDisplayOptions);\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {setSortPage} from '../../../actions/noteSortActions';\r\n\r\nconst withSortPageSetter = (sortPage) => (WrappedComponent) => {\r\n  class SortPageSetter extends Component{\r\n\r\n    constructor(props){\r\n      super(props);\r\n      const {setSortPage} = props;\r\n      setSortPage(sortPage);\r\n      \r\n    }\r\n\r\n    render(){\r\n      return <WrappedComponent {...this.props}/>\r\n    }\r\n  }\r\n\r\n  return connect(null,{setSortPage})(SortPageSetter);\r\n    \r\n}\r\n\r\nexport default withSortPageSetter;","import React from 'react'\r\n\r\nimport Header from './components/Header';\r\nimport Notes  from '../../components/notes';\r\nimport NoteDisplayOptions from '../../components/note-display-options';\r\nimport Section from '../../../../components/Section'; \r\n\r\nimport NoteData from '../../../../entities/NoteData';\r\n\r\nimport withSortPageSetter from '../../HOC/SortPageSetter';\r\nimport { page } from '../../../../services/constants';\r\n\r\nfunction Main(){\r\n  \r\n  function filter(note){\r\n    return note.state === NoteData.State().normal;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Header/>\r\n      <Section>\r\n        <NoteDisplayOptions/>\r\n        <Notes page={page.main} filter={filter}/>\r\n      </Section>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default withSortPageSetter(page.main)(Main);\r\n","import React from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport SideMenu from '../../../../../components/side-menu';\r\nimport HeaderWrapper from '../../../../../components/HeaderWrapper';\r\n\r\nfunction Header() {\r\n  return (\r\n    <HeaderWrapper>\r\n      <SideMenu />\r\n        <Typography variant=\"h6\" color=\"inherit\">\r\n          Archive\r\n        </Typography>\r\n    </HeaderWrapper>\r\n  )\r\n}\r\n\r\nexport default (Header);\r\n","import React from 'react'\r\n\r\nimport Section from '../../../../components/Section';\r\nimport NoteDisplayOptions from '../../components/note-display-options';\r\nimport Notes from '../../components/notes';\r\nimport Header from './components/Header';\r\nimport NoteData from '../../../../entities/NoteData';\r\nimport withSortPageSetter from '../../HOC/SortPageSetter';\r\nimport { page } from '../../../../services/constants';\r\n\r\n\r\nfunction Archive() {\r\n  function filter (note){\r\n    return note.state === NoteData.State().archived;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Header/>\r\n      <Section>\r\n      <NoteDisplayOptions/>\r\n       <Notes page={page.archive} filter={filter}/> \r\n      </Section>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default withSortPageSetter(page.archive)(Archive);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton, { iconType } from '../../../../../components/IconButton';\r\nimport SideMenu from '../../../../../components/side-menu';\r\nimport HeaderWrapper from '../../../../../components/HeaderWrapper';\r\n\r\nHeader.propTypes = {\r\n  deleteClick: PropTypes.func.isRequired\r\n}\r\n\r\nfunction Header(props) {\r\n  const { deleteClick } = props;\r\n  return (\r\n    <HeaderWrapper>\r\n      <SideMenu />\r\n      <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow: 1}}>\r\n        Trash Can\r\n      </Typography>\r\n      <IconButton icon={iconType.deleteForever} color=\"inherit\" onClick={deleteClick}/>\r\n    </HeaderWrapper>\r\n  )\r\n}\r\n\r\nexport default (Header);\r\n","import React, {Component} from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { clearTrash } from '../../../../actions/notesActions';\r\n\r\nimport Section from '../../../../components/Section';\r\nimport NoteDisplayOptions from '../../components/note-display-options';\r\nimport Notes from '../../components/notes';\r\nimport Header from './components/Header';\r\nimport NoteData from '../../../../entities/NoteData';\r\n\r\nimport withSortPageSetter from '../../HOC/SortPageSetter';\r\n\r\nimport { page } from '../../../../services/constants';\r\n\r\nimport withModalControlls from '../../../../HOC/modalControlls';\r\n\r\nclass TrashCan extends Component {\r\n  deleteClick = () =>{\r\n    this.props.openModal({\r\n        yesCallback: this.props.clearTrash,\r\n        title: 'Delete',\r\n        message: 'Delete all notes in the trash can?'\r\n    })\r\n  }\r\n\r\n  filter = (note) =>{\r\n    return note.state === NoteData.State().deleted;\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <React.Fragment>\r\n        <Header deleteClick={this.deleteClick}/>\r\n        <Section>\r\n          <NoteDisplayOptions/>\r\n          <Notes page={page.trash} filter={this.filter}/> \r\n        </Section>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nTrashCan.propTypes = {\r\n  clearTrash: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  clearTrash\r\n}\r\nexport default withSortPageSetter(page.trash)(withModalControlls(connect(null,mapDispatchToProps)(TrashCan)));\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport IconButton, {iconType} from './IconButton';\r\nimport { pullLeft } from '../inline-styles';\r\n\r\nconst BackButton = (props) => {\r\n  function goBack() {\r\n    props.history.goBack();\r\n  }\r\n  return (\r\n    <IconButton \r\n      style={pullLeft}\r\n      icon={iconType.arrowBack}\r\n      onClick={goBack}\r\n      color=\"inherit\"/>\r\n  );\r\n}\r\n\r\nexport default withRouter(BackButton);","import styled from 'styled-components';\r\n\r\nconst NoteTitle = styled.span`\r\n  display: block;\r\n  width: 30%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n`;\r\n\r\nexport default NoteTitle;","export const noteState = {\r\n  READING: \"READING\",\r\n  EDITING: \"EDITING\"\r\n}\r\n\r\n","/**\r\n * Component renders the various controlls depending on the state of the note and \r\n * passes event handlers from Notes component to those controlls.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Input from '@material-ui/core/Input';\r\n\r\nimport HeaderWrapper from '../../../../components/HeaderWrapper';\r\nimport BackButton from '../../../../components/BackButton';\r\nimport IconButton, {iconType} from '../../../../components/IconButton';\r\nimport NoteTitle from './components/NoteTitle';\r\n\r\nimport { noteState } from '../../services/constants';\r\nimport NoteData from '../../../../entities/NoteData';\r\nimport { ButtonName } from '../../../../services/constants';\r\n\r\nHeader.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  state: PropTypes.string.isRequired,\r\n  undo: PropTypes.bool.isRequired,\r\n  newNote: PropTypes.bool.isRequired,\r\n  onTitleChange: PropTypes.func.isRequired,\r\n  noteDataState: PropTypes.string.isRequired,\r\n  saveNote: PropTypes.func.isRequired,\r\n  editNote: PropTypes.func.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n}\r\n\r\nfunction Header({ title, state, newNote ,onTitleChange, undo, noteDataState, saveNote, editNote, openModal }) {\r\n  \r\n  // store ui elements\r\n  const UIElements = {\r\n    noteTitle: null,\r\n    btns: []\r\n  };\r\n\r\n  function EditButton(){\r\n    return (\r\n      <IconButton\r\n        icon={iconType.edit}\r\n        color=\"inherit\"\r\n        key=\"Edit\"\r\n        onClick={editNote}/>\r\n    );\r\n    \r\n  }\r\n\r\n  function DeleteButton(){\r\n    return (\r\n      <IconButton\r\n        icon={iconType.delete}\r\n        name={ButtonName.DELETE}\r\n        color=\"inherit\"\r\n        key=\"Delete\"\r\n        onClick={openModal}/>\r\n    );\r\n  }\r\n\r\n  function DeleteForeverButton(){\r\n    return(\r\n      <IconButton\r\n        icon={iconType.deleteForever}\r\n        name={ButtonName.DELETE_FOREVER}\r\n        color=\"inherit\"\r\n        key=\"Delete_Forever\"\r\n        onClick={openModal}  />\r\n    );\r\n  }\r\n\r\n  function SaveButton(){\r\n    return (\r\n      <IconButton\r\n        icon={iconType.save}\r\n        color=\"inherit\"\r\n        key=\"Save\"\r\n        onClick={saveNote}/>\r\n    );\r\n  }\r\n\r\n  function ArchiveButton(){\r\n    return (\r\n      <IconButton\r\n        icon={iconType.archive}\r\n        name={ButtonName.ARCHIVE}\r\n        color=\"inherit\"\r\n        key=\"Archive\"\r\n        onClick={openModal}/>\r\n    );\r\n  }\r\n\r\n  function UnArchiveButton(){\r\n    return (\r\n      <IconButton\r\n        icon={iconType.unArchive}\r\n        name={ButtonName.UNARCHIVE}\r\n        color=\"inherit\"\r\n        key=\"Archive\"\r\n        onClick={openModal}/>\r\n    );\r\n  }\r\n\r\n  function UndoButton(){\r\n    return (\r\n      <IconButton\r\n      icon={iconType.undo}\r\n      name={ButtonName.UNDO}\r\n      color=\"inherit\"\r\n      key=\"Undo\"\r\n      onClick={openModal}/>\r\n      );\r\n  }\r\n\r\n  function RestoreButton(){\r\n    return (\r\n    <IconButton\r\n      icon={iconType.undo}\r\n      name={ButtonName.RESTORE}\r\n      color=\"inherit\"\r\n      key=\"RESTORE\"\r\n      onClick={openModal} />);\r\n  }\r\n\r\n  function TitleInput(){\r\n    return(\r\n      <Input\r\n        style={{width: '40%'}}\r\n        autoComplete=\"off\"\r\n        name=\"title\"\r\n        value={title}\r\n        onChange={onTitleChange} />\r\n    );\r\n  }\r\n\r\n  function Title(){\r\n    return (<NoteTitle>{title}</NoteTitle>);\r\n  }\r\n\r\n  // Decide what to render depending on note state\r\n  switch(state){\r\n    case noteState.READING:\r\n      UIElements.noteTitle = Title();\r\n      if(noteDataState === NoteData.State().deleted){\r\n        UIElements.btns.push(RestoreButton());\r\n        UIElements.btns.push(DeleteForeverButton());\r\n      } else {\r\n        UIElements.btns.push(EditButton());\r\n        if(!newNote){\r\n          UIElements.btns.push(DeleteButton());\r\n          (noteDataState === NoteData.State().archived) ?\r\n          UIElements.btns.push(UnArchiveButton()) \r\n          : \r\n          UIElements.btns.push(ArchiveButton());\r\n        }\r\n      }\r\n      break;\r\n    // editing state\r\n    default:\r\n      UIElements.noteTitle = TitleInput();\r\n      UIElements.btns.push(SaveButton());\r\n    break;\r\n  }\r\n\r\n  if(undo){\r\n    UIElements.btns.push(UndoButton())\r\n  }\r\n\r\n  const { noteTitle, btns } = UIElements;\r\n  const buttons = (<div style={{marginLeft: 'auto'}}>\r\n                      {btns.map(btn => btn)}\r\n                  </div>)\r\n  \r\n  return (\r\n    <HeaderWrapper color=\"primary\">\r\n      <BackButton/>\r\n        {noteTitle}\r\n        {buttons}\r\n    </HeaderWrapper>\r\n  )\r\n}\r\n\r\nexport default Header;","import styled from 'styled-components';\r\n\r\nexport const height = '30px';\r\n\r\nconst InfoWrapper = styled.div`\r\n  height: ${height};\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: space-between; \r\n  // border-bottom: 1px solid #ccc;\r\n`;\r\n\r\nexport default InfoWrapper;","/**\r\n * This component is responsible for displaying various informations of the note,\r\n * such as time of its creation, time since last modification, and indicators for \r\n * when user is editing the note.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport InfoWrapper from './components/InfoWrapper';\r\nimport VCenter from '../../../../components/VCenter';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport {noteState } from '../../services/constants';\r\n\r\nimport { getTimePassed, parseDate, parseHours, parseMonthDate } from '../../../../services/time';\r\nimport NoteData from '../../../../entities/NoteData';\r\n\r\nNoteInfo.propTypes = {\r\n  state: PropTypes.oneOf([noteState.EDITING, noteState.READING, NoteData.State().deleted]),\r\n  mTime: PropTypes.instanceOf(Date).isRequired,\r\n  dTime: PropTypes.instanceOf(Date).isRequired,\r\n  cTime: PropTypes.instanceOf(Date).isRequired,\r\n}\r\n\r\nexport default function NoteInfo({state, mTime, cTime, dTime}) {\r\n\r\n  // get how much time has passed since last modification\r\n  function getTimeSinceLastModification() {\r\n    const { hours, minutes, seconds } = getTimePassed(mTime);\r\n    if (hours > 0) {\r\n      if (hours > 24) {\r\n        return parseMonthDate(mTime);\r\n      }\r\n      return  (hours === 1)? `${hours} hour ago`:`${hours} hours ago`;\r\n    }\r\n    else if (minutes > 0) {\r\n      return (minutes === 1)? `${minutes} minute ago`:`${minutes} minutes ago`;\r\n    }\r\n    else {\r\n      return (seconds === 1)? `${seconds} second ago`:`${seconds} seconds ago`;\r\n    }\r\n  }\r\n\r\n  function getDate(){\r\n    return (\r\n        (state === NoteData.State().deleted)?\r\n        \r\n        (<VCenter>\r\n          <Delete />\r\n          {parseDate(dTime) + \" \" + parseHours(dTime)}\r\n        </VCenter>)\r\n        :\r\n        <span>{parseDate(cTime) + \" \" + parseHours(cTime)}</span>\r\n      );\r\n  }\r\n\r\n  let info;\r\n  switch (state) {\r\n    case noteState.READING:\r\n      info = getTimeSinceLastModification();\r\n      break;\r\n    case noteState.EDITING:\r\n      info = \"Editing\";\r\n      break;\r\n    default:\r\n      info = 'Trash'\r\n    break;\r\n  }\r\n  return (\r\n    <InfoWrapper>\r\n      <span>{info}</span>\r\n      {getDate()}\r\n    </InfoWrapper>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport bgImage from '../../../img/note-background.png';\r\nimport {height as infoHeight} from './note-info/components/InfoWrapper';\r\n\r\nconst TextArea = styled.textarea`\r\n  height: calc(100% - calc(${infoHeight} - 5px));\r\n  width: 100%;\r\n  resize: none;\r\n  font-size: 1.3em;\r\n  line-height: 30px;\r\n  font-family: Roboto;\r\n  margin-top: 5px;\r\n  outline: none;\r\n  border: none;\r\n  background-color: transparent;\r\n  background-image: url(${bgImage});\r\n  background-attachment: local;\r\n  \r\n  &[readonly]{\r\n    border: none;\r\n    background-color: transparent;\r\n    user-select: none;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default TextArea;\r\n","import styled from 'styled-components';\r\n\r\nconst Message = styled.span`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100px;\r\n  background-color: rgba(0,0,0,0.8);\r\n  color: white;\r\n  height: 40px;\r\n  padding: 5px;\r\n  border-radius: 30px;\r\n  position: fixed;\r\n  z-index: 998;\r\n  bottom: 20%;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n`;\r\n\r\nexport default Message;\r\n","/**\r\n * Higher order component providing methods for showing and closing \r\n * message overlay.\r\n */\r\n\r\nimport React, { Component } from 'react';\r\n\r\nimport Message from '../components/Message';\r\n\r\nfunction messageControlls(WrappedComponent){\r\n  \r\n  class MessageControlls extends Component{\r\n    constructor(props){\r\n      super(props);\r\n\r\n      this.state = {\r\n        message: ''\r\n      }\r\n    }\r\n\r\n    showMessage = (message) =>{\r\n      this.setState({\r\n        message\r\n      })\r\n      setTimeout(()=>{\r\n        this.setState({\r\n          message: ''\r\n        });\r\n      },1000);\r\n    }\r\n\r\n    render(){\r\n      const { message } = this.state;\r\n      return (\r\n          <React.Fragment>\r\n            <WrappedComponent  showMessage={this.showMessage} {...this.props}/>\r\n            {(message !== '') && <Message>{message}</Message> }\r\n          </React.Fragment>\r\n        );\r\n    }\r\n  }\r\n\r\n  return MessageControlls;\r\n}\r\n\r\nexport default messageControlls;","/**\r\n * Higher order component that will block user from leaving the page\r\n * when condition to do so is met.\r\n */\r\n\r\nimport React , { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\n\r\nfunction blockNavigation(WrappedComponent){\r\n\r\n  class BlockNavigation extends Component{\r\n    constructor(props){\r\n      super(props);\r\n\r\n      this.state = {\r\n        when: () => false,\r\n        onBlock: () => false\r\n      }\r\n    }\r\n\r\n    componentDidMount(){\r\n      this.unblock = this.props.history.block((nextLocation) => {\r\n        const when = this.state.when();\r\n        if (when) {\r\n          this.state.onBlock();\r\n          this.nextLocation = nextLocation;\r\n        }\r\n        return !when;\r\n      });\r\n    }\r\n\r\n    componentWillUnmount(){\r\n      this.unblock();\r\n    }\r\n\r\n    continueNavigation = () =>{\r\n      this.unblock();\r\n      this.props.history.push(this.nextLocation.pathname);\r\n    }\r\n\r\n    setWhen = (when) =>{\r\n      if(!(typeof when === 'function')){\r\n        console.error(`when argument needs to be a function`);\r\n        return;\r\n      }\r\n      this.setState({\r\n        when\r\n      });\r\n    }\r\n\r\n    setOnBlock = (onBlock) =>{\r\n      if(!(typeof onBlock === 'function')){\r\n        console.error(`onBlock argument needs to be a function`);\r\n        return;\r\n      }\r\n      this.setState({\r\n        onBlock\r\n      });\r\n    }\r\n\r\n    render (){\r\n      return(\r\n        <WrappedComponent setWhen={this.setWhen} \r\n                          setOnBlock={this.setOnBlock}\r\n                          unblock={this.unblock}\r\n                          continueNavigation={this.continueNavigation}\r\n                          {...this.props} />\r\n      );\r\n    }\r\n  }\r\n\r\n  return withRouter(BlockNavigation);\r\n}\r\n\r\nexport default blockNavigation;","/**\r\n * This component is responsible for displaying the actual note and it's content.\r\n * It also provides controlls for editing, deleting, archiving and undoing changes.\r\n */\r\nimport React, { Component } from 'react'\r\nimport { Redirect } from 'react-router';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { createNote, deleteNote, modifyNote, archiveNote, restoreNote, deleteNotePermanently } from '../../actions/notesActions';\r\n\r\nimport Section from '../../components/Section';\r\nimport Header from './components/header';\r\nimport NoteInfo from './components/note-info'\r\nimport TextArea from './components/TextArea';\r\n\r\nimport openModalHandler from '../../HOC/openModalHandler';\r\nimport messageControlls from '../../HOC/messageControlls';\r\nimport blockNavigation from '../../HOC/blockNavigation';\r\n\r\nimport NoteData from '../../entities/NoteData';\r\nimport { noteState } from './services/constants';\r\nimport { ButtonName } from '../../services/constants'\r\n\r\nimport {withTheme} from '@material-ui/core/styles';\r\n\r\nclass Note extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      noteData: {},\r\n      state: null,\r\n      // inputs\r\n      title: \"\",\r\n      body: \"\",\r\n      // render controlls\r\n      redirect: false,\r\n      undo: false,\r\n      newNote: false,\r\n    }\r\n\r\n    const { DELETE, DELETE_FOREVER, RESTORE, UNDO, ARCHIVE, UNARCHIVE } = ButtonName;\r\n    const handler = {\r\n      [DELETE] : {\r\n        yesCallback: ()=>{this.noteUpdateHandler(DELETE)},\r\n        title: 'Delete',\r\n        message: 'Move note to the trash can?'\r\n      },\r\n      [DELETE_FOREVER] : {\r\n        yesCallback: this.deleteNotePermanently,\r\n        title: 'Permanently delete',\r\n        message: 'Permanently delete note?'\r\n      },\r\n      [RESTORE] : {\r\n        yesCallback: ()=>{this.noteUpdateHandler(RESTORE)},\r\n        title: 'RESTORE',\r\n        message: 'Do you want to restore note?'\r\n      },\r\n      [UNDO] : {\r\n        yesCallback: this.undoChanges,\r\n        title: 'Undo',\r\n        message: 'Undo changes?'\r\n      },\r\n      [ARCHIVE] : {\r\n        yesCallback: ()=>{this.noteUpdateHandler(ARCHIVE)},\r\n        title: 'Archive',\r\n        message: 'Archive note?'\r\n      },\r\n      [UNARCHIVE] : {\r\n        yesCallback: ()=>{this.noteUpdateHandler(RESTORE)},\r\n        title: 'Unarchive',\r\n        message: 'Unarchive note?'\r\n      }\r\n    }\r\n    this.openModalHandler = props.openModalHandler.bind(this,handler);\r\n    props.setWhen(this.when);\r\n    props.setOnBlock(this.onBlock);\r\n  }\r\n\r\n  componentWillMount() {\r\n    // Get the id from the url\r\n    const id = this.props.match.params.id;\r\n    console.log(id);\r\n    let noteData;\r\n    // If id is defined go to reading state\r\n    if (id) {\r\n      noteData = this.getNote(id);\r\n      // if there is no data with provided id\r\n      if (!noteData) {\r\n        // redirect to home page\r\n        this.setState({ redirect: true });\r\n        // stop the function from executing\r\n        return;\r\n      }\r\n      this.readState();\r\n    }\r\n    // Otherwise make new note and go to edit state\r\n    else {\r\n      noteData = new NoteData(\"\", \"\");\r\n      // replace the path \r\n      this.props.history.replace(`/note/${noteData.id}`);\r\n      this.newNote();\r\n    }\r\n\r\n    this.setState({\r\n      noteData,\r\n      title: noteData.title,\r\n      body: noteData.body\r\n    });\r\n  }\r\n\r\n  // define when to block navigation\r\n  when = () =>{\r\n    const {state} = this.state;\r\n    return (state === noteState.EDITING && this.changesMade());\r\n  }\r\n\r\n  // define what to do when navigation is blocked\r\n  onBlock = () =>{\r\n    this.props.openModal({\r\n      yesCallback: ()=>{\r\n        this.saveOnExit();\r\n        this.props.continueNavigation();\r\n      },\r\n      noCallback: this.props.continueNavigation,\r\n      title: 'Unsaved changes',\r\n      message: 'Save changes before leaving?'\r\n    })\r\n  }\r\n\r\n  readState = () => {\r\n    this.setState({\r\n      state: noteState.READING,\r\n      undo: false\r\n    });\r\n  }\r\n\r\n  editState = () => {\r\n    this.setState({\r\n      state: noteState.EDITING\r\n    });\r\n  }\r\n\r\n  newNote = () => {\r\n    this.setState({\r\n      newNote: true,\r\n      state: noteState.EDITING\r\n    });\r\n  }\r\n\r\n  changesMade = () =>{\r\n    const { noteData, title, body } = this.state;\r\n    return ( noteData.body !== body || noteData.title !== title );\r\n  }\r\n\r\n  getNote = (id) => {\r\n    const { notes } = this.props;\r\n    return notes.find(note => note.id === id);\r\n  }\r\n\r\n  saveOnExit = () =>{\r\n    const { noteData, title, body, newNote } = this.state;\r\n    if (newNote) {\r\n      noteData.title = title;\r\n      noteData.body = body;\r\n      this.props.createNote(noteData);\r\n    } else {\r\n      this.props.modifyNote(noteData.id,{title,body});      \r\n    }\r\n  }\r\n\r\n  // Button click handlers\r\n  \r\n  saveNote = () => {\r\n    const { noteData, title, body, newNote } = this.state;\r\n    // if a change has ocured proceede\r\n    if (this.changesMade()) {\r\n      // check if it is a new note\r\n      if (newNote) {\r\n        noteData.title = title;\r\n        noteData.body = body;\r\n        this.props.createNote(noteData);\r\n        \r\n        this.setState({\r\n          newNote: false\r\n        });\r\n      } else {\r\n        this.props.modifyNote(noteData.id,{title,body});\r\n      }\r\n      this.props.showMessage('Note Saved');\r\n    }\r\n    // go to reading state\r\n    this.readState();\r\n  }\r\n\r\n  editNote = () => {\r\n    this.editState();\r\n    this.bodyInput.focus();\r\n  }\r\n\r\n  undoChanges = () => {\r\n    const { noteData } = this.state;\r\n    const title = noteData.title;\r\n    const body = noteData.body;\r\n    // reset to previously saved data\r\n    this.setState({ title, body, undo: false });\r\n  }\r\n\r\n  noteUpdateHandler = (name) =>{\r\n    const id = this.state.noteData.id;\r\n    switch(name){\r\n      case ButtonName.ARCHIVE:\r\n       this.props.archiveNote(id);\r\n      break;\r\n      case ButtonName.DELETE:\r\n        this.props.deleteNote(id);\r\n        this.props.unblock();\r\n        this.props.history.goBack();\r\n      break;\r\n      default:\r\n        this.props.restoreNote(id);\r\n      break;\r\n    }\r\n  }\r\n\r\n  deleteNotePermanently = () => {\r\n    const id = this.state.noteData.id;\r\n    this.props.deleteNotePermanently(id);\r\n    this.props.unblock();\r\n    this.props.history.push('/trash');\r\n  }\r\n\r\n  // input handler\r\n  handleOnChange = (e) => {\r\n    const { newNote } = this.state;\r\n    const { title, body } = this.state.noteData;\r\n    // get the name of the input that fired the event\r\n    const name = e.target.getAttribute(\"name\");\r\n    const value = e.target.value;\r\n    let undo = false;\r\n    // look if undo button should be rendered\r\n    if (!newNote) {\r\n      switch (name) {\r\n        case 'body':\r\n          if (value !== body)\r\n            undo = true;\r\n          break;\r\n        default:\r\n          if (value !== title)\r\n            undo = true;\r\n          break;\r\n      }\r\n    }\r\n    // update the state\r\n    this.setState({\r\n      [name]: value,\r\n      undo\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { redirect } = this.state;\r\n    if (redirect)\r\n      return (\r\n        <Redirect to=\"/\" />\r\n      );\r\n    // get data from state\r\n    const { noteData, title, body, state, undo, newNote } = this.state;\r\n    \r\n    const headerProps = {\r\n      title,\r\n      noteDataState: noteData.state,\r\n      state,\r\n      newNote,\r\n      undo,\r\n      onTitleChange: this.handleOnChange,\r\n      saveNote: this.saveNote,\r\n      editNote: this.editNote,\r\n      openModal: this.openModalHandler\r\n    }\r\n\r\n    const infoProps = {\r\n      state: (noteData.state === NoteData.State().deleted) ? noteData.state : state,\r\n      cTime: noteData.cTime,\r\n      mTime: noteData.mTime,\r\n      dTime: noteData.dTime\r\n    }\r\n\r\n    const textAreaProps = {\r\n      autoFocus: newNote ? true : false,\r\n      autoComplete: \"off\",\r\n      autoCapitalize: \"off\",\r\n      autoCorrect: \"of\",\r\n      spellCheck:\"false\",\r\n      name:\"body\",\r\n      value: body,\r\n      readOnly: state === noteState.READING,\r\n      onChange: this.handleOnChange,\r\n      ref: input => (this.bodyInput = input),\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Header {...headerProps} />\r\n        <Section bgcolor={this.props.theme.palette.primary.light}>\r\n          <NoteInfo {...infoProps}/>\r\n          <TextArea {...textAreaProps}/>\r\n        </Section>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  notes: state.notes\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  createNote,\r\n  deleteNote,\r\n  modifyNote,\r\n  archiveNote,\r\n  restoreNote,\r\n  deleteNotePermanently\r\n}\r\n\r\nexport default blockNavigation(messageControlls(openModalHandler(connect(mapStateToProps, mapDispatchToProps)(withTheme()(Note)))));\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nimport HeaderWrapper from '../../../components/HeaderWrapper';\r\nimport BackButton from '../../../components/BackButton';\r\n\r\nHeader.propTypes = {\r\n  onChangeHandler: PropTypes.func.isRequired\r\n}\r\n\r\nfunction Header(props) {\r\n  const { onChangeHandler } = props;\r\n  return (\r\n    <HeaderWrapper>\r\n      <BackButton />\r\n      <Input\r\n        autoFocus\r\n        autoComplete=\"off\"\r\n        name=\"search\"\r\n        placeholder=\"Search\"\r\n        onChange={onChangeHandler}\r\n      />\r\n    </HeaderWrapper>\r\n   )\r\n}\r\n\r\nexport default Header;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Header from './components/Header';\r\nimport Section from '../../components/Section';\r\nimport NotesContainer from '../../components/NotesContainer';\r\nimport NoteItem from '../../components/note-item';\r\nimport NoNotes from '../../components/NoNotes';\r\n\r\nclass Search extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      search: ''\r\n    }\r\n  }\r\n\r\n  onChangeHandler = (e) =>{\r\n    this.setState({search: e.target.value});\r\n  }\r\n\r\n  filter = (note) =>{\r\n    const search = this.state.search.toLocaleLowerCase();\r\n    const {body, title} = note;\r\n    return (search !== '')? (body.toLowerCase().includes(search) || title.toLowerCase().includes(search)): false;\r\n  }\r\n  render() {\r\n    const { notes } = this.props;\r\n    const notesToRender = notes.filter(this.filter);\r\n    return (\r\n      <React.Fragment>\r\n        <Header onChangeHandler={this.onChangeHandler}/>\r\n        <Section>\r\n          {\r\n            (notesToRender.length === 0)?\r\n            <NoNotes>\r\n              Type parts of content or title of the note in search box\r\n            </NoNotes>  \r\n            :\r\n            <NotesContainer>\r\n            {notesToRender.map(note => \r\n              <NoteItem key={note.id} noteData={note}/>\r\n            )}\r\n            </NotesContainer>\r\n          }\r\n        </Section>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) =>({\r\n  notes: state.notes\r\n});\r\n\r\nexport default connect(mapStateToProps,null)(Search);\r\n\r\n","import React from 'react'\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport HeaderWrapper from '../../components/HeaderWrapper';\r\nimport SideMenu from '../../components/side-menu';\r\nimport Section from '../../components/Section';\r\n\r\nfunction About() {\r\n  return (\r\n    <React.Fragment>\r\n      <HeaderWrapper>\r\n      <SideMenu />\r\n        <Typography variant=\"h6\" color=\"inherit\">\r\n          About\r\n        </Typography>\r\n      </HeaderWrapper>\r\n      <Section>\r\n        <Typography variant=\"h4\">\r\n          NoteUp\r\n        </Typography>\r\n        <p>\r\n          It was built as a test of knowledge. Users can take simple notes, and they have small utility features such as archiving notes, chaging how they are displayed (grid or list view) and some basic sorting options.<br/><br/>\r\n          It was developed in <a href=\"https://reactjs.org/\" target=\"_blank\" rel=\"noopener noreferrer\">React</a> using <a href=\"https://material-ui.com/\" target=\"_blank\" rel=\"noopener noreferrer\">material-ui</a> and <a href=\"https://www.styled-components.com/\" target=\"_blank\" rel=\"noopener noreferrer\">styled-components</a> for design.\r\n           More information can be found on the <a href=\"https://github.com/97ashrey/noteUp\" target=\"_blank\" rel=\"noopener noreferrer\">github repository</a>.\r\n        </p>\r\n\r\n      </Section>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default About;","import React, { Component } from 'react'\r\n\r\nexport default class Test extends Component{\r\n  render(){\r\n    return(\r\n      <div>\r\n        TEST\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport HeaderWrapper from '../../components/HeaderWrapper';\r\nimport Section from '../../components/Section';\r\nimport SideMenu from '../../components/side-menu';\r\nimport Typography from '@material-ui/core/Typography';\r\nfunction NotFound() {\r\n  return (\r\n    <React.Fragment>\r\n      <HeaderWrapper>\r\n        <SideMenu />\r\n      </HeaderWrapper>\r\n      <Section>\r\n        <Typography variant=\"h3\">\r\n          404\r\n          </Typography>\r\n        <Typography variant=\"h4\">\r\n          Page not found\r\n          </Typography>\r\n        <Typography variant=\"h5\">\r\n          It looks like you tried to access a page that doesn't exist. Use the menu to reach your destination or <Link to=\"/\">go to main page</Link>.\r\n        </Typography>\r\n      </Section>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default NotFound;","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nconst defaultTheme = createMuiTheme({\r\n  typography: {\r\n    useNextVariants: true,\r\n  },\r\n  palette: {\r\n    primary: {\r\n      main: '#8bc34a',\r\n      light: '#cce6b3'\r\n    },\r\n  },\r\n});\r\n\r\nexport default defaultTheme;\r\n","import React, { Component } from 'react';\r\nimport { HashRouter as Router, Route, Switch} from 'react-router-dom';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\nimport AppWrapper from './components/AppWrapper';\r\nimport Main from './scenes/notes/scenes/main';\r\nimport Archive from './scenes/notes/scenes/archive';\r\nimport TrashCan from './scenes/notes/scenes/trash-can';\r\nimport Note from './scenes/note';\r\nimport Search from './scenes/search';\r\nimport About from './scenes/about';\r\nimport Test from './components/Test';\r\nimport NotFound from './scenes/404';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport defaultTheme from './themes/defaultTheme';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      \r\n    <MuiThemeProvider theme={defaultTheme}>\r\n      <AppWrapper>\r\n      <Provider store={store}>\r\n      <React.Fragment>\r\n        <Router>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Main}/>\r\n            <Route exact path=\"/archive\" component={Archive}/>\r\n            <Route exact path=\"/trash\" component={TrashCan}/>\r\n            <Route exact path=\"/note/:id?\" component={Note}/>\r\n            <Route exact path=\"/search\" component={Search}/>\r\n            <Route exact path=\"/about\" component={About}/>\r\n            <Route exact path=\"/test\" component={Test}/>\r\n            <Route component={NotFound}/>\r\n          </Switch>\r\n        </Router>\r\n      </React.Fragment>\r\n    </Provider>\r\n    </AppWrapper>\r\n    </MuiThemeProvider>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}